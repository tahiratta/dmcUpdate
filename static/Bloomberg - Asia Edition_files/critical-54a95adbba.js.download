!function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return r(n||e)},l,l.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){t.exports={mobile:0,tablet:760,small_desktop:1020,large_desktop:1280}},{}],2:[function(e,t,n){"use strict";var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=e("./AdBlockerModal"),a=e("../util/Storage").Storage,u=e("../util/Environment"),c=5,l=5,d="bbAdBlocker",f="bbAbIncremented",h="bbAbVisitMultiplier",p="bbAbMessageDuration",v="bbAbVisits",_="bbAbMessage",g=365,m="adBlockerContainer",y="adBlockerContinue",b="adBlockerTimer",w="adBlockerFooterLink",k="adBlockerTestHasRun",E=(o(i={},p,l),o(i,h,c),o(i,_,s.getBlockerMessage()),i),S=["dataLayer","dataLayerNV5B7R","dataLayerPXX8JJ"],T=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"blockTheAdBlocker",value:function(){var e,t,n,i,r,o,c,l,d,f,h,p;u.getDocument().body&&(e=u.getDocument(),(t=e.createElement("div")).setAttribute("class",s.fakeAdClasses()),t.setAttribute("style",s.fakeAdStyles()),e.body.appendChild(t),n=u.getDocument(),(i=n.createElement("div")).setAttribute("class",s.testDivClasses()),i.setAttribute("style",s.testDivStyles()),n.body.appendChild(i),r=u.getWindow(),o={local:a.createLocalStorage(),session:a.createSessionStorage(),cookie:a.createCookieStorage(g)},c="2.5_seconds",void 0!==r.getComputedStyle&&setTimeout(function(){var e=r.document.getElementsByClassName("a-real-div-for-testing")[0],t=r.getComputedStyle(e,null);!t||"none"!==t.getPropertyValue("display")&&"hidden"!==t.getPropertyValue("visibility")?P(o)||(O({eventName:"test_abb",testCategory:"ad_blocker.test",testAction:"test_passed",testLabel:c}),o.session.set(k,!0)):P(o)||(O({eventName:"test_abb",testCategory:"ad_blocker.test",testAction:"test_failed",testLabel:c}),o.session.set(k,!0))},2500),d=(l={hasAdBlocker:x,withoutAdBlocker:C}).hasAdBlocker,f=l.withoutAdBlocker,h=u.getWindow(),p={local:a.createLocalStorage(),session:a.createSessionStorage(),cookie:a.createCookieStorage(g)},void 0!==h.getComputedStyle&&setTimeout(function(){var e=h.document.getElementsByClassName("pub_300x250")[0],t=h.getComputedStyle(e,null);!t||"none"!==t.getPropertyValue("display")&&"hidden"!==t.getPropertyValue("visibility")?(A(p)||O({eventName:"ad_blocker",category:"ad_blocker.modal",action:"detected_false",label:"no_modal_displayed"}),f()):d()},2500))}}]),e}();function C(){var e={local:a.createLocalStorage(),session:a.createSessionStorage(),cookie:a.createCookieStorage(g)};if(j(e)){var t=e.session,n=e.local,i=e.cookie,r=E;for(var o in t&&!t.AD_BLOCKER_NAME_KEY&&i.remove(v),r)r.hasOwnProperty(o)&&n.get(o)&&n.remove(o);t.set(f,!0)}}function x(){var e={local:a.createLocalStorage(),session:a.createSessionStorage(),cookie:a.createCookieStorage(g)};j(e)&&!A(e)&&(e.session.set(d,!0),function(e){var t=e.session,n=e.local,i=E,r=e.cookie,o=r.get(v),s=o?parseInt(o,10)+1:1;for(var a in r.set(v,s,g),i)i.hasOwnProperty(a)&&n.set(a,i[a]);t.set(f,!0)}(e),function(e){var t=e.cookie.get(v),n=function(e){if(!j(e))return c;return e.local.get(h)||c}(e),i="modal_displayed.visit_number_"+t;if(!function(e,t){var n=parseInt(e,10),i=parseInt(t,10);if((n-2)%i!=0)return O({eventName:"ad_blocker",category:"ad_blocker.modal",action:"detected_true",label:"non_intrusive.visit_number_"+n}),!1;return!0}(t,n))return;O({eventName:"ad_blocker",category:"ad_blocker.modal",action:"detected_true",label:i}),function(e){var t=function(e){if(!j(e))return s.getBlockerMessage();return e.session.get(_)||s.getBlockerMessage()}(e),n=function(e){if(!j(e))return l;return e.local.get(p)||l}(e),i=u.getDocument(),r=u.getWindow();if(!(i&&t&&n))return;var o=s.renderModal(t,n);i.body.appendChild(o),r.onLoad=function(e){var t=u.getDocument(),n=e,i=void 0,r=t.getElementById(m),o=t.getElementById(y),s=t.getElementById(b);function a(){r.setAttribute("style","display:none"),O({eventName:"ad_blocker",category:"ad_blocker.modal",action:"click",label:"continue_button"}),o.removeEventListener("click",a)}i=setInterval(function(){s.textContent=n,--n<0&&(clearInterval(i),s.setAttribute("style","display:none"),o.style.color="#2800D7",o.style.cursor="pointer",o.addEventListener("click",a))},1e3)}(n);var a=i.getElementById(w);function c(){O({eventName:"ad_blocker",category:"ad_blocker.modal",action:"click",label:"false_positive_link"}),a.removeEventListener("click",c)}a.addEventListener("click",c)}(e)}(e))}function O(e){var t,n,i=e.eventName,r=e.category,o=e.action,s=e.label,a=e.testCategory,c=e.testAction,l=e.testLabel,d=u.getWindow();"ad_blocker"===i&&(d.adBlockerObject={category:r,action:o,label:s}),"test_abb"===i&&(d.testAbbObject={testCategory:a,testAction:c,testLabel:l}),t=i,n=u.getWindow(),S.forEach(function(e){n.hasOwnProperty(e)||(n[e]=[]),n[e].push({event:t})})}function j(e){var t=e.local.get,n=e.session.get;return!("function"!=typeof t||"function"!=typeof n)}function A(e){return!!e.session.get(f)}function P(e){return!!e.session.get(k)}t.exports=T},{"../util/Environment":23,"../util/Storage":26,"./AdBlockerModal":3}],3:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=["font-family:BWHaasHead-95Black,BWHaasHead,Helvetica Neue,Helvetica","font-size:45px","margin:0 auto","text-align:center","color:white","background-color:#2800D7","padding:15px 0"],o=["font-size:18px","line-height:28px","background-color:white","color:black","padding: 20px","font-family:Tiempos,Helvetica Neue,Helvetica"],s=["height:100%","width:100%","z-index:100","color:white","background:rgba(256,256,256,.8)","position:fixed","top:0","left:0"],a=["min-width:300px","border:2px solid #2800D7","width:50%","background-color:white","color:black","margin: 20vh auto"],u=["background-color:#D8D8D8","color:#ABAAAB","font-size:20px","text-align:center","font-weight:bold","font-family:BWHaasHead-75Bold,BWHaasHead,Helvetica Neue,Helvetica","margin:0 auto 20px","padding:5px","width:165px"],c=["margin-left:4px","display:inline-block","border:1px solid #ABAAAB","border-radius:100%","color:#ABAAAB","background-color:#D8D8D8","font-size:20px","text-align:center","line-height:20px","width:26px","padding:3px"],l=["width:1px !important","height:1px !important","position:absolute !important","display:block","top:-5000px","left:-5000px;"],d=["pub_300x250","pub_300x250m","pub_728x90","text-ad","textAd","text_ad","text_ads","text-ads","text-ad-links"],f=["a-real-div-for-testing","false-positive-test"],h=["display: block","position: absolute","right: 200%","height: 1%","width: 1%"],p=["font-size:14px","line-height:18px","background-color:white","color:black","padding: 20px","font-family:Tiempos,Helvetica Neue,Helvetica"],v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"renderModal",value:function(e,t){var n=document,i=n.createElement("aside"),r=n.createElement("div"),o=n.createElement("h1"),s=n.createTextNode("Bloomberg"),a=n.createElement("div"),u=n.createTextNode(e),c=n.createElement("div"),l=n.createTextNode("Continue"),d=n.createElement("div"),f=n.createTextNode(t),h=n.createElement("div");return i.setAttribute("id","adBlockerContainer"),c.setAttribute("id","adBlockerContinue"),d.setAttribute("id","adBlockerTimer"),h.setAttribute("id","adBlockerFooter"),o.setAttribute("style",this.logoStyles()),a.setAttribute("style",this.messageDivStyles()),i.setAttribute("style",this.containerStyles()),r.setAttribute("style",this.elementStyles()),c.setAttribute("style",this.continueDisplayStyles()),d.setAttribute("style",this.timerStyles()),h.setAttribute("style",this.footerStyles()),o.appendChild(s),a.appendChild(u),c.appendChild(l),d.appendChild(f),c.appendChild(d),h.innerHTML='If you believe that you may have received\n    this message in error <a href="https://www.bloomberg.com/feedback" style="color: #2B00F7" id="adBlockerFooterLink">please let\n    us know</a>.',r.appendChild(o),r.appendChild(a),r.appendChild(c),r.appendChild(h),i.appendChild(r),i}},{key:"getBlockerMessage",value:function(){return"We noticed that you're using an ad blocker,\n    which may adversely affect the performance and content on\n    Bloomberg.com. For the best experience, please\n    whitelist the site."}},{key:"logoStyles",value:function(){return r.join("; ")}},{key:"messageDivStyles",value:function(){return o.join("; ")}},{key:"containerStyles",value:function(){return s.join("; ")}},{key:"elementStyles",value:function(){return a.join("; ")}},{key:"continueDisplayStyles",value:function(){return u.join("; ")}},{key:"timerStyles",value:function(){return c.join("; ")}},{key:"fakeAdStyles",value:function(){return l.join("; ")}},{key:"fakeAdClasses",value:function(){return d.join(" ")}},{key:"testDivStyles",value:function(){return h.join("; ")}},{key:"testDivClasses",value:function(){return f.join(" ")}},{key:"footerStyles",value:function(){return p.join("; ")}}]),e}();t.exports=v},{}],4:[function(e,t,n){"use strict";var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=e("./gpt/GPT"),o=e("./lotame/Lotame"),s=e("./ad_blocker/AdBlocker"),a=e("./communication/PostMessages"),u=e("./rendering/Renderer"),c=e("./viewability/Viewability"),l=e("./viewability/Visibility"),d=e("./util/identity"),f=e("./debug/AdDebugRegistry"),h=e("./refreshing/CompanionGroupCoordinator"),p=e("./session/UserInfo"),v=e("./util/Environment"),_=e("./header_bidding/HeaderBidding"),g=e("./trigr/Trigr"),m="undefined"!=typeof Promise?Promise:e("es6-promise").Promise,y=e("ua-parser-js");var b={init:function(e){var t=this,n=e.networkCode,i=e.lotameId,m=e.breakpoints,b=e.adCodeDecorator,w=void 0===b?d:b,k=e.adBlockerShouldBeBlocked,E=void 0===k||k,S=e.trigrUrl,T=e.trigrDeadline;this.adCodeDecoratorFunction=w,this.adDebugRegistry=new f,this.companionGroupCoordinator=new h,this.gpt=new r(n),this.lotame=null,this.postMessages=new a,this.viewability=new c(m),this.visibility=new l,this.userInfo=new p,this.renderer=new u(this.gpt,this.viewability,this.visibility),this._targets=[],this._window=v.getWindow(),_.ensureHeaderBidding(),E&&s.blockTheAdBlocker(),this.destroyables=[this.gpt,this.postMessages,this.visibility,this.renderer,this.adDebugRegistry,this.companionGroupCoordinator,this.userInfo];var C=(new y).getBrowser(),x=C.name,O=C.major;this.lotame=new o(i),this.setTargeting("browser",""+x+O).setTargeting("uid",this.userInfo.getSessionId()).setTargeting("ksg",this.lotame.getSegments()),this.loadGPT().then(function(){g.setUrl(S),g.setDeadline(T),g.loadResults()}),this._window.onbeforeunload=function(){t.destroy()}},destroy:function(){(this.destroyables||[]).forEach(function(e){return e.destroy()}),this.adCodeDecoratorFunction=null,this.adDebugRegistry=null,this.companionGroupCoordinator=null,this.gpt=null,this.postMessages=null,this.renderer=null,this.viewability=null,this.visibility=null,this._window.onbeforeunload=null,this._window=null,this._targets=null},createAd:function(e){var t=this,n=e.containerId,r=e.adCode,o=e.dimensions,s=e.targeting,a=e.strategy,u=e.viewportOffset,c=void 0===u?0:u,l=e.targetingModifiers,d=void 0===l?[]:l,f=e.isInterstitial,h=void 0!==f&&f;if(!(n&&r&&o))throw new Error("bb.ads#createAd requires containerId, adCode and dimensions "+n+", "+r+", "+o);var p,v,y,b=(p=s,d.reduce(function(e,t){return t(e)},p)),w=this.gpt.createAd(n,this.adCodeDecoratorFunction(r),this.viewability.getSizes(o),b).setViewportOffset(c).setInterstitialFlag(h);return this.adDebugRegistry.push(w),this.postMessages.addEventListener(w.getId(),"setIframeHeight",(v=w,function(e){var t=e.height;return v.setHeight(t)})),this.postMessages.addEventListener(w.getId(),"setIframeDimensions",(y=w,function(e){var t=e.width,n=e.height;return y.setDimensions(t,n)})),m.all([g.getResults(),_.isReady()]).then(function(e){var n=i(e,1)[0].results;w.addTargeting({tr:n.join(",")}),t.renderer.render(w,{strategy:a})}),w},getCompanionGroup:function(e){return this.companionGroupCoordinator.findOrCreate(e)},clearAllCompanionChildren:function(){this.companionGroupCoordinator.clearAllChildren()},createInterstitialAd:function(e){return Object.defineProperty(e,"isInterstitial",{value:!0}),Object.defineProperty(e,"strategy",{value:"always"}),Object.defineProperty(e,"dimensions",{value:[0]}),this.createAd.call(this,e)},disableCompanionAdBackfilling:function(){return this.gpt.setRefreshUnfilledSlots(!1),this},enableCompanionAdBackfilling:function(){return this.gpt.setRefreshUnfilledSlots(!0),this},enableVideoAds:function(){return this.gpt.enableVideoAds(),this},refresh:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.renderer.refresh(e,t)},setTargeting:function(e,t){var n=t instanceof m?t:m.resolve(t);return this._targets.push([e,n]),this},loadGPT:function(){var e=this,t=this._targets.map(function(t){var n=i(t,2),r=n[0];return n[1].then(function(t){return e.gpt.setTargeting(r,t)}).catch(function(){return m.resolve()})});return m.all(t).then(function(){return e._targets.length=0,e.gpt.loadGPT()})},updateCorrelator:function(){return this.gpt.updateCorrelator(),this},showDebugInformation:function(){return this.adDebugRegistry.showDebugInformation(),this},showDebugInformationOnRender:function(){return this.adDebugRegistry.showDebugInformationOnRender(),this},GPT:{html:r.html},HeaderBidding:{html:_.html,APPS:_.APPS}};t.exports=b},{"./ad_blocker/AdBlocker":2,"./communication/PostMessages":5,"./debug/AdDebugRegistry":7,"./gpt/GPT":9,"./header_bidding/HeaderBidding":11,"./lotame/Lotame":12,"./refreshing/CompanionGroupCoordinator":15,"./rendering/Renderer":19,"./session/UserInfo":21,"./trigr/Trigr":22,"./util/Environment":23,"./util/identity":30,"./viewability/Viewability":33,"./viewability/Visibility":34,"es6-promise":161,"ua-parser-js":173}],5:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=e("../util/Environment"),s="message";function a(e){var t,n="object"===(void 0===(t=e.data)?"undefined":r(t))?e.data:function(e){try{return JSON.parse(e)}catch(e){return{}}}(e.data);return{data:n,id:n.id||n.windowId,method:n.method}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__listeners={},this.__window=o.getWindow(),this.__contextifyCallbacks(),this.__delegateEvents()}return i(e,[{key:"__contextifyCallbacks",value:function(){this.__dispatchEventListeners=this.__dispatchEventListeners.bind(this)}},{key:"__delegateEvents",value:function(){this.__window&&this.__window.addEventListener(s,this.__dispatchEventListeners)}},{key:"__dispatchEventListeners",value:function(e){var t=a(e),n=t.data,i=t.id,r=t.method;((this.__listeners[i]?this.__listeners[i][r]:[])||[]).forEach(function(e){return e(n)})}},{key:"__undelegateEvents",value:function(){this.__window&&this.__window.removeEventListener(s,this.__dispatchEventListeners)}},{key:"destroy",value:function(){this.__undelegateEvents(),this.__listeners={}}},{key:"addEventListener",value:function(e,t,n){var i=this.__listeners[e]=this.__listeners[e]||{};i[t]=i[t]||[],i[t].push(n)}},{key:"removeEventListener",value:function(e,t,n){var i=this.__listeners[e];i&&i[t]&&(i[t]=i[t].filter(function(e){return e!==n}))}}]),e}();t.exports=u},{"../util/Environment":23}],6:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var o=e("../util/Overlayer"),s=function(e){return Math.floor(e)+"ms"},a="list-style-type: disc; padding-left: 20px; margin: 4px 0 0;";var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"show",value:function(e,t){var n=t.getElement(),i=!n;if(t.isDisplayable()&&!i){var u,c,l=t.getSlotRenderedEvent(),d=function(e,t,n){if(!t)return["GPT render event not received for this ad.","Either the request has not been sent out or","the response has not yet been received."].join("<br/>");var i=e.getRenderTime(),r=i-n,o=i-e.getRequestTime(),a=r-o;return["AdCode: "+e.getUnitName(),"Creative ID: "+t.getCreativeId(),"Line Item ID: "+t.getLineItemId(),"Empty?: "+(t.isEmpty()?"Yes":"No"),"Time since start: "+s(r),"Request-response time: "+s(o),"Request-start time: "+s(a),"Sizes: ["+e.getSizes()+"]"].join("<br/>")}(t,l,e)+function(e){if(!e)return"";var t=e.getServices(),n=r(t,1)[0];if(n){var i=n.getTargetingKeys().reduce(function(e,t){return e+"<li>"+t+": "+n.getTargeting(t)+"</li>"},"");return'<ul style="'+a+'">'+i+"</ul>"}return""}(t.getSlot())+(u=t.getTargeting(),c=Object.keys(u).reduce(function(e,t){return e+"<li>"+t+": "+u[t]+"</li>"},""),'<ul style="'+a+'">'+c+"</ul>"),f=!l||l.isEmpty();o.overlay({content:d,adElement:n,empty:f})}}}]),e}();t.exports=u},{"../util/Overlayer":24}],7:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=e("../util/Environment"),o=e("./AdDebug"),s=e("../util/curry"),a=e("../util/Overlayer"),u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__registeredAds=[],this.__startTime=r.currentTime(),this.__debugOnRenderMode=!1}return i(e,[{key:"push",value:function(e){this.__debugOnRenderMode&&(e.onRender(s(o.show,this.__startTime,e)),e.onEmpty(s(o.show,this.__startTime,e))),this.__registeredAds.push(e)}},{key:"showDebugInformation",value:function(){a.clearOverlays(),this.__registeredAds.forEach(s(o.show,this.__startTime))}},{key:"showDebugInformationOnRender",value:function(){this.__debugOnRenderMode=!0}},{key:"destroy",value:function(){this.__registeredAds.length=0}}]),e}();t.exports=u},{"../util/Environment":23,"../util/Overlayer":24,"../util/curry":29,"./AdDebug":6}],8:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var o=e("md5-jkmyers"),s=e("../util/Environment"),a=e("../util/assign"),u=e("../util/curry"),c=e("./SlotRenderEndedEvent"),l=e("../header_bidding/HeaderBidding"),d="bb-ads__rendered",f="bb-ads__empty",h=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.tickers&&(r.tickers=JSON.stringify(r.tickers)),l.addTo(r),this.__unitName=n,this.__sizes=i,this.__targeting=r,this.__slot=null,this.__renderCallbacks=[],this.__emptyCallbacks=[],this.__viewportOffset=0,this.__renderTime=null,this.__slotRenderedEvent=null,this.__isInterstitial=!1,this.__triggeredEventArgument=null,this.__contextifyCallbacks(),this.__setId(),this.__renderContainer(t),this.onRender(u(this.setClassName,d)),this.onEmpty(u(this.setClassName,f))}return i(e,[{key:"__contextifyCallbacks",value:function(){this.setClassName=this.setClassName.bind(this)}},{key:"__setId",value:function(){var e=[this.__sizes,this.__targeting,this.__unitName];this.__id=o(JSON.stringify(e))}},{key:"__renderContainer",value:function(e){var t=s.getDocument();if(t){var n=t.getElementById(e);if(n){var i=t.createElement("div");i.setAttribute("class","bb-ads__ad"),i.setAttribute("id",this.__id),n.insertBefore(i,n.firstChild),n=null,i=null}else console.log("Failed to render: Ad container did not exist for id "+e)}}},{key:"getDomId",value:function(){return this.__slot?this.__slot.getSlotId().getDomId():null}},{key:"getId",value:function(){return this.__id}},{key:"getSizes",value:function(){return this.__sizes}},{key:"isDisplayable",value:function(){return!!this.__sizes.length}},{key:"getSlot",value:function(){return this.__slot}},{key:"getTargeting",value:function(){return a({},this.__targeting,{pmid:this.getId()})}},{key:"addTargeting",value:function(e){a(this.__targeting,e)}},{key:"getElement",value:function(){return s.getDocument().getElementById(this.__id)}},{key:"getIframe",value:function(){var e=this.getElement(),t=e?e.getElementsByTagName("iframe"):[];return Array.prototype.filter.call(t,function(e){return!!e.offsetParent})[0]||null}},{key:"getUnitName",value:function(){return this.__unitName}},{key:"hasSlot",value:function(){return!!this.__slot}},{key:"setHeight",value:function(e){var t=this.getIframe();return t&&(t.setAttribute("height",e),t=null),this}},{key:"setDimensions",value:function(e,t){var n=this.getIframe();return n&&(n.setAttribute("width",e),n.setAttribute("height",t),n=null),this}},{key:"setClassName",value:function(e){var t=[e],n=this.getElement();if(n){var i=n.getAttribute("class");t.push(i),this.__sizes.some(function(e){return!!e[0]&&e[0]===e[1]})&&(t.push("bb-ads__no_size"),this.__sizes.forEach(function(e){e[0]&&e[0]===e[1]&&t.push("bb-ads__size_"+e[0]+"x"+e[1])})),n.setAttribute("class",t.join(" ")),n=null}return this}},{key:"setSlot",value:function(e){return this.__slot=e,this}},{key:"setViewportOffset",value:function(e){return this.__viewportOffset=e,this}},{key:"getViewportOffset",value:function(){return this.__viewportOffset}},{key:"setRequestTime",value:function(e){this.__requestTime=e}},{key:"getRequestTime",value:function(){return this.__requestTime}},{key:"getRenderTime",value:function(){return this.__renderTime}},{key:"getSlotRenderedEvent",value:function(){return this.__slotRenderedEvent}},{key:"onRender",value:function(e){return this.__triggeredEventArgument?(e(this.__triggeredEventArgument),this):(this.__renderCallbacks.push(e),this)}},{key:"onEmpty",value:function(e){return this.__triggeredEventArgument?(e(this.__triggeredEventArgument),this):(this.__emptyCallbacks.push(e),this)}},{key:"handleSlotRenderEvent",value:function(e){var t,n,i,o,a,u=(a=e.isEmpty,a||(t=e.size,n=r(void 0===t?[]:t,2),i=n[0],o=n[1],1===i&&1===o))?this.__emptyCallbacks:this.__renderCallbacks;this.__renderTime=s.currentTime();var l=this.__slotRenderedEvent=new c({id:this.getId(),adCode:this.getUnitName(),requestTime:this.getRequestTime(),event:e});u.forEach(function(e){return e(l)}),this.__triggeredEventArgument=l,this.__emptyCallbacks.length=0,this.__renderCallbacks.length=0}},{key:"setInterstitialFlag",value:function(e){return this.__isInterstitial=e,this}},{key:"isInterstitial",value:function(){return this.__isInterstitial}},{key:"setCompanionGroup",value:function(e){this._companionGroup=e}},{key:"companionGroup",value:function(){return this._companionGroup||null}},{key:"isCompanionChild",value:function(){return this.companionGroup()&&this.companionGroup().children().lastIndexOf(this)>=0}},{key:"isCompanionParent",value:function(){return this.companionGroup()&&this.companionGroup().parent()===this}}]),e}();t.exports=h},{"../header_bidding/HeaderBidding":11,"../util/Environment":23,"../util/assign":27,"../util/curry":29,"./SlotRenderEndedEvent":10,"md5-jkmyers":168}],9:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=e("./Ad"),o=e("../util/Environment"),s=e("../util/ScriptInjector"),a="//www.googletagservices.com/tag/js/gpt.js",u={pubads:"pubads",companionAds:"companionAds"},c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__cachedSlots={},this.__networkCode=t,this.__googletag=n,this.__window=o.getWindow(),this.__renderedAds={},this.services=u,!this.__googletag&&this.__window&&(this.__window.googletag=this.__window.googletag||{},this.__window.googletag.cmd=this.__window.googletag.cmd||[],this.__googletag=this.__window.googletag),this.__contextifyCallbacks(),this.__listenToSlotRenderEvents()}return i(e,[{key:"__contextifyCallbacks",value:function(){this.__handleSlotRenderEvent=this.__handleSlotRenderEvent.bind(this)}},{key:"__defineSlot",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=void 0;if(i=e.isInterstitial()?this.__googletag.defineOutOfPageSlot(e.getUnitName(),e.getId()):this.__googletag.defineSlot(e.getUnitName(),e.getSizes(),e.getId())){var r=e.getTargeting();e.setSlot(i),Object.keys(r).forEach(function(e){return i.setTargeting(e,r[e])}),n.forEach(function(e){return i.addService(t.__googletag[e]())}),this.__cachedSlots[e.getId()]=i}}},{key:"__display",value:function(e){this.__googletag.display(e.getDomId())}},{key:"__getRenderedAd",value:function(e){return this.__renderedAds[e]||null}},{key:"__handleSlotRenderEvent",value:function(e){var t=this.__getRenderedAd(e.slot.getSlotId().getDomId());t&&(t.handleSlotRenderEvent(e),this.__unstoreRenderedAd(t))}},{key:"__listenToSlotRenderEvents",value:function(){var e=this;this.enqueue(function(){Object.keys(u).forEach(function(t){e.__googletag[t]().addEventListener("slotRenderEnded",e.__handleSlotRenderEvent)})})}},{key:"loadGPT",value:function(){return s.load(a)}},{key:"__refreshSlots",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).changeCorrelator,n=void 0!==t&&t;this.__googletag.pubads().refresh(e,{changeCorrelator:n})}},{key:"__renderCachedSlot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.__cachedSlots[e.getId()];return!!n&&(e.setSlot(n),this.__storeRenderedAd(e),this.__refreshSlots([n],t),!0)}},{key:"__storeRenderedAd",value:function(e){this.__renderedAds[e.getDomId()]=e}},{key:"__unstoreRenderedAd",value:function(e){this.__renderedAds[e.getDomId()]=null}},{key:"createAd",value:function(e,t,n,i){return new r(e,"/"+this.__networkCode+"/"+t,n,i)}},{key:"render",value:function(e,t){var n=this,i=t.services,r=void 0===i?[]:i,s=t.display,a=void 0===s||s,u=t.changeCorrelator,c=void 0!==u&&u;this.enqueue(function(){e.setRequestTime(o.currentTime()),n.__renderCachedSlot(e,{changeCorrelator:c})||(n.__defineSlot(e,r),n.__googletag.enableServices(),a&&n.__display(e),n.__storeRenderedAd(e))})}},{key:"enableSingleRequest",value:function(){var e=this;this.enqueue(function(){return e.__googletag.pubads().enableSingleRequest()})}},{key:"enableVideoAds",value:function(){var e=this;this.enqueue(function(){return e.__googletag.pubads().enableVideoAds()})}},{key:"enqueue",value:function(e){this.__googletag.cmd.push(e)}},{key:"refresh",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.filter(function(e){return e.hasSlot()}).map(function(e){return e.getSlot()});i.length&&this.enqueue(function(){return t.__refreshSlots(i,n)})}},{key:"setRefreshUnfilledSlots",value:function(e){var t=this;this.enqueue(function(){return t.__googletag.companionAds().setRefreshUnfilledSlots(e)})}},{key:"setTargeting",value:function(e,t){var n=this;this.enqueue(function(){return n.__googletag.pubads().setTargeting(e,t)})}},{key:"updateCorrelator",value:function(){var e=this;this.enqueue(function(){return e.__googletag.pubads().updateCorrelator()})}},{key:"destroy",value:function(){this.__googletag.destroySlots(this.__cachedSlots),this.__cachedSlots={},this.__renderedAds={},this.__googletag={},this.__window=null}}],[{key:"html",value:function(){return'<script src="'+a+'" async><\/script>'}}]),e}();t.exports=c},{"../util/Environment":23,"../util/ScriptInjector":25,"./Ad":8}],10:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t){var n=t.id,i=t.adCode,r=t.requestTime,o=t.event,s=void 0===o?{}:o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a=s.lineItemId,u=s.creativeId,c=s.isEmpty;this.__lineItemId=a,this.__creativeId=u,this.__isEmpty=c,this.__adId=n,this.__adCode=i,this.__adRequestStartTime=r}return i(e,[{key:"getAdId",value:function(){return this.__adId}},{key:"getAdCode",value:function(){return this.__adCode}},{key:"getLineItemId",value:function(){return this.__lineItemId}},{key:"getCreativeId",value:function(){return this.__creativeId}},{key:"isEmpty",value:function(){return this.__isEmpty}},{key:"getRequestTime",value:function(){return this.__adRequestStartTime}}]),e}();t.exports=r},{}],11:[function(e,t,n){"use strict";var i="undefined"!=typeof Promise?Promise:e("es6-promise").Promise,r=e("../util/ScriptInjector"),o={BLOOMBERG:"184795-85053518629129",BLOOMBERG_COJP:"184795-80655472784507"},s=/\.co\.jp$/i,a={APPS:o,addTo:function(e){var t=e.position;t&&(e["ix-adslot"]=t)},getHeaderBiddingURL:function(){return s.exec(window.location.hostname)?"//js-sec.indexww.com/ht/p/184795-80655472784507.js":"//js-sec.indexww.com/ht/p/184795-85053518629129.js"},ensureHeaderBidding:function(){return window.headertag?i.resolve():r.timeout(1e3).load(this.getHeaderBiddingURL(),{async:!0})},isReady:function(){return a.ensureHeaderBidding()},html:function(){return'<script src="//js-sec.indexww.com/ht/p/'+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.BLOOMBERG)+'.js" async><\/script>'}};t.exports=a},{"../util/ScriptInjector":25,"es6-promise":161}],12:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r="undefined"!=typeof Promise?Promise:e("es6-promise").Promise,o=e("../util/Environment"),s=e("../util/ScriptInjector"),a="12097",u=new(0,e("../util/Storage").BrowserCookieStorage),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=o.getWindow();if(n&&n.Lotame)return n.Lotame;n.Lotame={_lotameId:t,jsonpCallback:this.jsonpCallback.bind(this),getSegments:this.getSegments.bind(this)},this._lotameId=t,this._audience=null,this._loadLotame()}return i(e,[{key:"_getLotameUrl",value:function(){var e=!0,t=".crwdcntrl.net",n=Math.floor(1e4*Math.random())+2,i=u.get("_cc_domain");i&&(t=i,e=!1);var r=void 0;return e&&(r=u.get("_cc_id")),"//ad"+t+"/5/c="+this._lotameId+"/pe=y/rand="+n+"/callback=Lotame.jsonpCallback"+(r?"/pid="+r:"")}},{key:"_loadLotame",value:function(){return s.load(this._getLotameUrl(),{async:!0})}},{key:"jsonpCallback",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.Profile&&e.Profile.Audiences&&e.Profile.Audiences.Audience&&(this._audience=e.Profile.Audiences.Audience.map(function(e){return e.id}))}},{key:"getSegments",value:function(){var e=this;return this._audience?r.resolve(this._audience):this._loadLotame().then(function(){return e._audience?e._audience:new r(function(t){setTimeout(function(){t(e._audience||[])},100)})})}}]),e}();t.exports=c},{"../util/Environment":23,"../util/ScriptInjector":25,"../util/Storage":26,"es6-promise":161}],13:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"wouldRefresh",value:function(){return!0}}]),e}();t.exports=r},{}],14:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._parent=null,this._children=[]}return i(e,[{key:"children",value:function(){return this._children}},{key:"members",value:function(){return Array.prototype.concat(this._parent,this._children)}},{key:"parent",value:function(){return this._parent}},{key:"addParent",value:function(e){this._parent=e,e.setCompanionGroup(this)}},{key:"addChild",value:function(e){this._children.lastIndexOf(e)<0&&(this._children.push(e),e.setCompanionGroup(this))}},{key:"clearChildren",value:function(){this._children=[]}},{key:"clearParent",value:function(){this._parent=null}}]),e}();t.exports=r},{}],15:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=e("./CompanionGroup"),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._all={}}return i(e,[{key:"findOrCreate",value:function(e){var t=this._all[e];return t||(t=new r,this._all[e]=t),t}},{key:"find",value:function(e){return this._all[e]}},{key:"clearAll",value:function(){this.clearAllChildren(),this.clearAllParents(),this._all={}}},{key:"clearAllChildren",value:function(){var e=this;Object.keys(this._all).forEach(function(t){e._all[t].clearChildren()})}},{key:"clearAllParents",value:function(){var e=this;Object.keys(this._all).forEach(function(t){e._all[t].clearParent()})}},{key:"destroy",value:function(){this.clearAll()}}]),e}();t.exports=o},{"./CompanionGroup":14}],16:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__viewability=t}return i(e,[{key:"wouldRefresh",value:function(e){var t=e.filter(function(e){return e.isDisplayable()&&null===e.companionGroup()}),n=e.filter(function(e){return e.isDisplayable()&&null!==e.companionGroup()&&!e.isCompanionChild()});return this.entirelyViewableGroups(n).concat(t)}},{key:"entirelyViewableGroups",value:function(e){var t=this;return e.reduce(function(e,n){var i=n.companionGroup().members();return t.__viewability.everyViewable(i)?e.concat(i):e},[])}}]),e}();t.exports=r},{}],17:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__gpt=t,this.__services=[t.services.pubads]}return i(e,[{key:"render",value:function(e){e.isDisplayable()&&this.__gpt.render(e,{services:this.__services})}},{key:"refresh",value:function(e){this.__gpt.refresh(e)}},{key:"wouldRefresh",value:function(e){return e}}]),e}();t.exports=r},{}],18:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__gpt=t,this.__services=[t.services.pubads,t.services.companionAds]}return i(e,[{key:"render",value:function(e){e.isDisplayable()&&this.__gpt.render(e,{display:!1,services:this.__services})}},{key:"refresh",value:function(){}}]),e}();t.exports=r},{}],19:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=e("./AlwaysRenderRenderingStrategy"),o=e("./CompanionAdRenderingStrategy"),s=e("./WhenInViewportRenderingStrategy"),a=e("../refreshing/AlwaysRefreshStrategy"),u=e("../refreshing/GroupInViewportRefreshStrategy"),c=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__gpt=t,this.__viewability=n,this.__visibility=i,this.__strategies=r,this.__refreshStrategies=r,this.__contextifyCallbacks(),this.__initStrategies(),this.__delegateEvents(),this.__visibility.isVisible()&&this.__start()}return i(e,[{key:"__contextifyCallbacks",value:function(){this.__start=this.__start.bind(this),this.__stop=this.__stop.bind(this)}},{key:"__delegateEvents",value:function(){this.__visibility.addDocumentVisibleEventListener(this.__start),this.__visibility.addDocumentInvisibleEventListener(this.__stop)}},{key:"__initStrategies",value:function(){this.__strategies=this.__strategies||{always:new r(this.__gpt),companion:new o(this.__gpt),viewable:new s(this.__gpt,this.__viewability,this.__visibility)},this.__refreshStrategies=this.__refreshStrategies||{always:new a,companion:new a,viewable:new u(this.__viewability)}}},{key:"__start",value:function(){this.__strategies.viewable.start()}},{key:"__stop",value:function(){this.__strategies.viewable.stop()}},{key:"__undelegateEvents",value:function(){this.__visibility.removeDocumentVisibleEventListener(this.__start),this.__visibility.removeDocumentInvisibleEventListener(this.__stop)}},{key:"destroy",value:function(){this.__undelegateEvents()}},{key:"render",value:function(e,t){var n=t.strategy,i=void 0===n?"viewable":n,r=this.__strategies[i];if(!r)throw new Error("bb.ads: Invalid rendering strategy, supports: ['always', 'companion', 'viewable']");r.render(e)}},{key:"refresh",value:function(e,t){var n=t.strategy,i=void 0===n?"viewable":n,r=this.__strategies[i],o=this.__refreshStrategies[i];if(!r)throw new Error("bb.ads: Invalid rendering strategy, supports: ['always', 'companion', 'viewable']");var s=o.wouldRefresh(e);s&&r.refresh(s)}}]),e}();t.exports=c},{"../refreshing/AlwaysRefreshStrategy":13,"../refreshing/GroupInViewportRefreshStrategy":16,"./AlwaysRenderRenderingStrategy":17,"./CompanionAdRenderingStrategy":18,"./WhenInViewportRenderingStrategy":20}],20:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=e("../util/Environment"),s=function(){function e(t,n,i){r(this,e),this.__gpt=t,this.__viewability=n,this.__visibility=i,this.__unrenderedAds=new a,this.__window=o.getWindow(),this.__isRunning=!1,this.__services=[t.services.pubads],this.__tick=this.__tick.bind(this)}return i(e,[{key:"__tick",value:function(){var e=this;!this.__isRunning&&this.__visibility.isVisible()&&(this.__isRunning=!0,this.__window.requestAnimationFrame(function(){e.__renderVisibleAds(),e.__isRunning=!1}))}},{key:"__renderVisibleAds",value:function(){var e=this,t=this.__unrenderedAds.asArray();this.__viewability.filter(t).forEach(function(t){t.hasSlot()?e.__gpt.refresh([t]):e.__gpt.render(t,{services:e.__services}),e.__unrenderedAds.delete(t)})}},{key:"render",value:function(e){e.isDisplayable()&&(this.__unrenderedAds.add(e),this.__tick())}},{key:"refresh",value:function(e){var t=this;e.forEach(function(e){e.isDisplayable()&&t.__unrenderedAds.add(e)}),this.__tick()}},{key:"start",value:function(){this.__window&&(this.__tick(),this.__window.addEventListener("scroll",this.__tick,!1))}},{key:"stop",value:function(){this.__window&&this.__window.removeEventListener("scroll",this.__tick,!1)}},{key:"destroy",value:function(){this.stop(),this.__unrenderedAds.clear()}}]),e}(),a=function(){function e(){r(this,e),this.__ads={}}return i(e,[{key:"add",value:function(e){var t=e.getId();this.__ads[t]||(this.__ads[t]=e)}},{key:"delete",value:function(e){this.__ads[e.getId()]=null}},{key:"asArray",value:function(){for(var e=Object.keys(this.__ads),t=[],n=0,i=e.length;n<i;n++){var r=this.__ads[e[n]];r&&t.push(r)}return t}},{key:"clear",value:function(){this.__ads={}}}]),e}();t.exports=s},{"../util/Environment":23}],21:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r="undefined"!=typeof Promise?Promise:e("es6-promise").Promise,o=e("../util/Environment"),s="reg-user-info-ready",a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._window=o.getWindow(),this._document=o.getDocument(),this._userInfo=null}return i(e,[{key:"getSessionId",value:function(){var e=this._userInfo&&this._userInfo.sessionId||this._getCookieValue("session_id");return e?r.resolve(e):this.getUserInfo().then(function(e){return e.sessionId})}},{key:"getUserInfo",value:function(){var e=this;return this._userInfo=this._window._regUserInfo,this._userInfo?r.resolve(this._userInfo):new r(function(t,n){e._setUserInfo=e._setUserInfo.bind(e,t),e._window.addEventListener(s,e._setUserInfo),setTimeout(function(){n()},200)})}},{key:"_setUserInfo",value:function(e,t){var n=t.detail;this._userInfo=n,e(this._userInfo)}},{key:"_getCookieValue",value:function(e){var t=this._document.cookie.match("(^|;) ?"+e+"=([^;$]*)");return t?t[2]:null}},{key:"destroy",value:function(){this._userInfo=null,this._window.removeEventListener(s,this._setUserInfo),this._setUserInfo=null,this._document=null,this._window=null}}]),e}();t.exports=a},{"../util/Environment":23,"es6-promise":161}],22:[function(e,t,n){"use strict";var i="undefined"!=typeof Promise?Promise:e("es6-promise").Promise,r=6e4,o=void 0,s="/trigrservice/targets",a=100;function u(){return o||(c(),setInterval(c,r),o)}function c(){o=new i(function(e){var t=setTimeout(n,a);function n(){e({results:[]}),clearTimeout(t)}var i=new XMLHttpRequest;i.addEventListener("load",function(){var r;(r=i.status)>=200&&r<300||304===r?(e(JSON.parse(i.response)),clearTimeout(t)):n()}),i.addEventListener("error",n),i.addEventListener("abort",n),i.open("GET",s),i.send()})}var l={loadResults:u,getResults:function(){return o||u()},setUrl:function(e){var t;"string"==typeof(t=e)&&t.length&&(s=e)},setDeadline:function(e){var t;"number"==typeof(t=e)&&t>-1&&(a=e)}};t.exports=l},{"es6-promise":161}],23:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"getDocument",value:function(){return"undefined"!=typeof document?document:null}},{key:"getViewportDimensions",value:function(){var e=this.getWindow(),t=this.getDocument();return e&&t?{height:e.innerHeight||t.documentElement.clientHeight,width:e.innerWidth||t.documentElement.clientWidth}:0}},{key:"getWindow",value:function(){return"undefined"!=typeof window?window:null}},{key:"localStorageExists",value:function(){var e=this.getWindow();if(!e)return!1;try{return e.hasOwnProperty("localStorage")&&e.localStorage}catch(e){return!1}}},{key:"sessionStorageExists",value:function(){var e=this.getWindow();if(!e)return!1;try{return e.hasOwnProperty("sessionStorage")&&e.sessionStorage}catch(e){return!1}}},{key:"cookiesAreEnabled",value:function(){var e=this.getWindow();return!(!e||!e.navigator)&&e.navigator.cookieEnabled}},{key:"isBrowser",value:function(){return!!this.getWindow()}},{key:"getHostUri",value:function(){var e=this.getWindow();return e?encodeURIComponent(e.location.hostname):""}},{key:"currentTime",value:function(){var e=this.getWindow();return e.performance&&e.performance.now?e.performance.now():Date.now()}},{key:"getElementStyleAttribute",value:function(e,t){return this.getWindow().getComputedStyle(e).getPropertyValue(t)}}]),e}();t.exports=r},{}],24:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=e("./Environment"),o=e("../util/assign"),s={position:"absolute",padding:"4px",top:"0",left:"0",height:"100%",width:"100%",background:"rgba(0, 0, 0, 0.75)",border:"1px solid black",boxSizing:"border-box",color:"white",fontFamily:"sans-serif",fontSize:"13px",overflow:"scroll",textAlign:"left",webkitFontSmoothing:"subpixel-antialiased"},a={height:"150px","background-color":"red"},u={height:"auto","background-color":"transparent"},c="ad-overlay",l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"overlay",value:function(e){var t=e.content,n=e.adElement,i=e.empty,l=r.getDocument().createElement("div"),d=i?a:u;l.setAttribute("class",c),"static"===r.getElementStyleAttribute(n,"position")&&(n.style.position="relative"),l.innerHTML=t,n.appendChild(l),o(l.style,s),o(n.style,d)}},{key:"clearOverlays",value:function(){for(var e=r.getDocument().getElementsByClassName(c),t=e.length-1;t>=0;--t){var n=e.item(t);n.parentNode.removeChild(n)}}}]),e}();t.exports=l},{"../util/assign":27,"./Environment":23}],25:[function(e,t,n){"use strict";var i=e("./Environment"),r=e("../util/url"),o=Array.prototype.slice,s="error",a="loaded",u=/^http(.*)$/,c="undefined"!=typeof Promise?Promise:e("es6-promise").Promise,l={_init:function(){var e;this.requestQueue={},this.documentScripts=(e=i.getDocument(),o.call(e.scripts).reduce(function(e,t){if(t.src){var n=d(t.src);e.hasOwnProperty(n)&&console.warn("Duplicate script found: "+t.src),e[t.src]=!0}return e},{})),this.delay=0},_isLoaded:function(e){var t=d(e);return Boolean(this.documentScripts[t])},_isRequested:function(e){var t=d(e);return Boolean(this.requestQueue[t])},timeout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e&&"number"==typeof e&&(this.delay=e),this},load:function(e,t){this.documentScripts||this.requestQueue||this._init();var n=d(e);if(this._isRequested(e))return this.requestQueue[n];if(this._isLoaded(e))return c.resolve();var r=i.getDocument(),o=r.querySelector("body")||r.head;return this.requestQueue[n]=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3];n.src=e;var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{async:!0},t=i.getDocument().createElement("script");return Object.keys(e).forEach(function(n){return t.setAttribute(n,e[n])}),t}(n),u=null;return new c(function(n,i){r>0&&(u=setTimeout(function(){i(new Error("Script timed out")),o.onreadystatechange=o.onload=o.onerror=null,o=null},r)),void 0!==o.onreadystatechange?o.onreadystatechange=function(){a===this.readyState&&(n(),clearTimeout(u),o.onreadystatechange=o=u=null)}:o.onload=o.onerror=function(r){r.type===s&&(i(new Error("Script could not be loaded: "+e)),t.removeChild(o)),n(e),clearTimeout(u),o.onload=o.onerror=o=u=null},t.appendChild(o)})}(e,o,t,this.delay).then(function(){l.documentScripts[n]=!0,l.requestQueue[n]=null}),this.requestQueue[n]}};function d(e){u.test(e)||(e=location.protocol+e);var t=r.parse(e),n=t.pathname.split("/").slice(-1)[0];return t.host+":"+n}t.exports=l},{"../util/url":32,"./Environment":23,"es6-promise":161}],26:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=e("./Environment"),s=function(){function e(){r(this,e)}return i(e,[{key:"get",value:function(){return""}}]),e}(),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";r(this,e),this.__namespace=t}return i(e,[{key:"get",value:function(e){return window.localStorage.getItem(this.__namespace+e)||""}},{key:"set",value:function(e,t){window.localStorage.setItem(this.__namespace+e,t)}},{key:"remove",value:function(e){window.sessionStorage.removeItem(this.__namespace+e)}}]),e}(),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";r(this,e),this.__namespace=t}return i(e,[{key:"get",value:function(e){return window.sessionStorage.getItem(this.__namespace+e)||""}},{key:"set",value:function(e,t){window.sessionStorage.setItem(this.__namespace+e,t)}},{key:"remove",value:function(e){window.sessionStorage.removeItem(this.__namespace+e)}}]),e}(),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;r(this,e),this._duration=t}return i(e,[{key:"get",value:function(e){var t=e+"=([^;]*)",n=o.getDocument(),i=n?n.cookie.match(t):null;return i?decodeURI(i[1]):""}},{key:"set",value:function(e,t){var n=o.getDocument(),i=new Date;i.setTime(i.getTime()+24*this._duration*60*60*1e3);var r="expires="+i.toUTCString();n.cookie=e+"="+t+"; "+r}},{key:"remove",value:function(e){o.getDocument().cookie=e+"="}}]),e}(),l=function(){function e(){r(this,e)}return i(e,null,[{key:"createLocalStorage",value:function(e){return o.isBrowser()?o.localStorageExists()?new a(e):o.cookiesAreEnabled()?new c:new s:new s}},{key:"createSessionStorage",value:function(e){return o.isBrowser()?o.sessionStorageExists()?new u(e):o.cookiesAreEnabled()?new c:new s:new s}},{key:"createCookieStorage",value:function(e){return o.isBrowser()&&o.cookiesAreEnabled()?new c(e):new s}}]),e}();t.exports={Storage:l,ServerStorage:s,BrowserLocalStorage:a,BrowserSessionStorage:u,BrowserCookieStorage:c}},{"./Environment":23}],27:[function(e,t,n){"use strict";var i=e("./assignPolyfill"),r=Object.assign||i;t.exports=r},{"./assignPolyfill":28}],28:[function(e,t,n){"use strict";t.exports=function(e){if(!e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1,i=arguments.length;n<i;n++){var r=arguments[n];if(r)for(var o=Object.keys(r),s=0,a=o.length;s<a;s++){var u=o[s];t[u]=r[u]}}return t}},{}],29:[function(e,t,n){"use strict";t.exports=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.bind.apply(e,[this].concat(n))}},{}],30:[function(e,t,n){"use strict";t.exports=function(e){return e}},{}],31:[function(e,t,n){"use strict";t.exports=function(e){return Object.keys(e).reduce(function(t,n){return t[e[n]]=n,t},{})}},{}],32:[function(e,t,n){"use strict";var i=e("./Environment");t.exports={parse:function(e){var t=i.getWindow();if("function"==typeof t.URL&&t.URL.length>0)return new t.URL(e);var n=i.getDocument().createElement("a");n.href=e;var r=n,o=r.protocol,s=r.hostname,a=r.port,u=r.pathname,c=r.search,l=r.hash,d=r.host;n=null;var f={protocol:o,hostname:s,port:a,pathname:u,search:c,hash:l,host:d};return t.URL&&t.URL.createObjectURL&&(f.createObjectURL=t.URL.createObjectURL),t.URL&&t.URL.revokeObjectURL&&(f.revokeObjectURL=t.URL.revokeObjectURL),Object.freeze(f)}}},{"./Environment":23}],33:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=e("../util/Environment"),o=e("../util/invertObject");function s(e){return e>0?Math.floor(e):Math.ceil(e)}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__invertedBreakpoints=o(t)}return i(e,[{key:"__currentBreakpoint",value:function(){var e=r.getWindow();if(!e)return null;var t=e.innerWidth,n=this.__invertedBreakpoints,i=Object.keys(n).reduce(function(e,n){return t>=n?n:e});return this.__invertedBreakpoints[i]}},{key:"__isViewable",value:function(e,t){var n=t.height,i=t.width,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e.offsetParent)return!1;var o=e.getBoundingClientRect(),a=o.top,u=o.bottom,c=o.left,l=o.right,d=0-r,f=n+r;e=null;var h=s(a)>=d&&s(u)<=f,p=s(c)>=0&&s(l)<=i;return h&&p}},{key:"filter",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=r.getViewportDimensions();return t.filter(function(t){return e.isViewable(n,t)})}},{key:"everyViewable",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=r.getViewportDimensions();return t.every(function(t){return e.isViewable(n,t)})}},{key:"isViewable",value:function(e,t){var n=t.getElement(),i=!!n&&this.__isViewable(n,e,t.getViewportOffset());return n=null,i}},{key:"getSizes",value:function(e){if(Array.isArray(e))return e;var t=this.__currentBreakpoint(),n=(e[t]||[]).slice(0);return(e.all||[]).forEach(function(e){return n.push(e)}),n}}]),e}();t.exports=a},{"../util/Environment":23,"../util/invertObject":31}],34:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=e("../util/Environment"),o={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"},s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__document=r.getDocument(),this.__window=r.getWindow(),this.__hiddenAttribute=null,this.__visibleChangeEvent=null,this.__visibleListeners=[],this.__invisibleListeners=[],this.__useBrowserPrefixedAttributes(),this.__contextifyCallbacks(),this.__delegateEvents()}return i(e,[{key:"__contextifyCallbacks",value:function(){this.__dispatchEventListeners=this.__dispatchEventListeners.bind(this),this.__ie9VisibleEventListener=this.__ie9VisibleEventListener.bind(this),this.__ie9InvisibleEventListener=this.__ie9InvisibleEventListener.bind(this)}},{key:"__delegateEvents",value:function(){this.__document&&(this.__visibleChangeEvent?this.__document.addEventListener(this.__visibleChangeEvent,this.__dispatchEventListeners):this.__window&&(this.__window.addEventListener("focus",this.__ie9VisibleEventListener),this.__window.addEventListener("blur",this.__ie9InvisibleEventListener)))}},{key:"__dispatchEventListeners",value:function(){(this.isVisible()?this.__visibleListeners:this.__invisibleListeners).forEach(function(e){return e()})}},{key:"__ie9IsVisibilityChange",value:function(e){return e.view===this.__window}},{key:"__ie9VisibleEventListener",value:function(e){this.__ie9IsVisibilityChange(e)&&this.__visibleListeners.forEach(function(e){return e()})}},{key:"__ie9InvisibleEventListener",value:function(e){this.__ie9IsVisibilityChange(e)&&this.__invisibleListeners.forEach(function(e){return e()})}},{key:"__undelegateEvents",value:function(){this.__document&&(this.__visibleChangeEvent?this.__document.removeEventListener(this.__visibleChangeEvent,this.__dispatchEventListeners):this.__window&&(this.__window.removeEventListener("focus",this.__ie9VisibleEventListener),this.__window.removeEventListener("blur",this.__ie9InvisibleEventListener)))}},{key:"__useBrowserPrefixedAttributes",value:function(){var e=this;Object.keys(o).some(function(t){return void 0!==e.__document[t]&&(e.__hiddenAttribute=t,e.__visibleChangeEvent=o[t],!0)})}},{key:"destroy",value:function(){this.__undelegateEvents(),this.__visibleListeners.length=0,this.__invisibleListeners.length=0}},{key:"isVisible",value:function(){return this.__document&&!1===this.__document[this.__hiddenAttribute]}},{key:"addDocumentVisibleEventListener",value:function(e){this.__visibleListeners.push(e)}},{key:"removeDocumentVisibleEventListener",value:function(e){this.__visibleListeners=this.__visibleListeners.filter(function(t){return t!==e})}},{key:"addDocumentInvisibleEventListener",value:function(e){this.__invisibleListeners.push(e)}},{key:"removeDocumentInvisibleEventListener",value:function(e){this.__invisibleListeners=this.__invisibleListeners.filter(function(t){return t!==e})}}]),e}();t.exports=s},{"../util/Environment":23}],35:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=O(e("./data/getUserNewsletters")),s=O(e("./data/getBusinessweekEntitlement")),a=O(e("./data/getPageCustomVars")),u=O(e("./data/getBusinessweekCustomVars")),c=O(e("./custom_variables/newsletterVariables")),l=O(e("./custom_events/onNewsletter")),d=O(e("./custom_events/onCloseInline")),f=O(e("./custom_events/onRegistrationModal")),h=e("./helpers/userStatus"),p=O(e("./visibility/VisibilityProxy")),v=O(e("./helpers/hideArticleContent")),_=O(e("./helpers/showArticleContent")),g=O(e("./helpers/hideRegistrationModal")),m=O(e("./helpers/getCurrentBaseUrl")),y=O(e("./helpers/isSafePostMessage")),b=O(e("./helpers/GoogleTracking")),w=O(e("./helpers/transitionArticleBodyOpacity")),k=O(e("./helpers/hideSmallLede")),E=O(e("./helpers/hideVideoPlayer")),S=O(e("./helpers/addGlobalCss")),T=O(e("./helpers/removeGlobalCss")),C=e("./data/constants"),x=O(e("es6-symbol"));function O(e){return e&&e.__esModule?e:{default:e}}e("bb.polyfills/promise");var j=(0,x.default)(),A=null,P={hardwall:v.default,"reg-user-signed-in":function(e){(0,_.default)(e),(0,g.default)(e)},"transition-article-body-opacity":function(e){(0,w.default)(e.detail)},"hide-small-lede":function(){(0,k.default)(!0)},"hide-video-lede":function(){(0,E.default)(!0)}},I=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t!==j)throw new Error("Invalid Pianola construction");this._firstRun=!0}return r(e,[{key:"setState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=e||{},this._registrationUrl=e.registrationUrl,this._pianoUrl=e.pianoUrl,this._includeSailthruLink=Boolean(e.includeSailthruLink)}},{key:"runWorkflow",value:function(){var e=this,t=(0,h.getUserStatusCustomVars)(),n=(0,s.default)(),i=(0,a.default)(),r=(0,u.default)(i.publishedAt);return this._addCustomVariables(t),this._addCustomVariables(n),this._addCustomVariables(r),this._addCustomVariables(i),this.configurePostMessageListener(),Promise.all([(0,o.default)(this._registrationUrl)]).then(function(t){var n=t[0],i=(0,c.default)(n);e._addCustomVariables(i)}).catch(function(){}).then(this._triggerPianoInit.bind(this))}},{key:"configurePostMessageListener",value:function(){this._postMessageListenerBound=this._postMessageListener.bind(this),window.addEventListener("message",this._postMessageListenerBound,!1),window.addEventListener("unload",this.removePostMessageListener,!1)}},{key:"removePostMessageListener",value:function(){window.removeEventListener("message",this._postMessageListenerBound),this._postMessageListenerBound=void 0,window.removeEventListener("unload",this.removePostMessageListener)}},{key:"_triggerPianoInit",value:function(){this._firstRun?((0,S.default)("\n        .tp-modal {\n            z-index: 6000003 !important;\n        }\n\n        .tp-backdrop.tp-active {\n            z-index: 6000001 !important;\n        }\n    ",{"data-from":"pianola"}),this._addPianoEventListeners(),this._firstRun=!1):this._executeExperience()}},{key:"_addCustomVariables",value:function(e){var t=window.tp||[];for(var n in e)e.hasOwnProperty(n)&&t.push(["setCustomVariable",n,e[n]])}},{key:"_addPianoEventListeners",value:function(){var e=window.tp||[];e.push(["addHandler","checkoutCustomEvent",this._customEventHandlers.bind(this)]),e.push(["addHandler","showTemplate",this._trackToutVisible.bind(this)]),e.push(["init",this._initExperience.bind(this)]),Object.keys(P).forEach(function(e){window.addEventListener(e,P[e])})}},{key:"_initExperience",value:function(){var e=window.tp;e&&e.experience.init()}},{key:"_executeExperience",value:function(){var e=window.tp;"object"===(void 0===e?"undefined":i(e))&&e.experience&&e.experience.execute()}},{key:"_customEventHandlers",value:function(e){switch(e.eventName){case"newsletter":(0,l.default)(e,this._pianoUrl,this._registrationUrl,this._includeSailthruLink);break;case"close-inline":(0,d.default)(e);break;case"open-registration-modal":(0,f.default)(e)}}},{key:"_postMessageListener",value:function(e){if("object"===(void 0===e?"undefined":i(e))&&e.data){var t=[this._pianoUrl,(0,m.default)()];if((0,y.default)(e.origin,t)){var n=function(e){if("string"!=typeof e)return e;try{return JSON.parse(e)}catch(e){return{}}}(e.data),r=n.eventName,o=n.label,s=n.className;switch(r){case"clickEvent":b.default.registerClickEvent(s,null,o)}}}}},{key:"_trackToutVisible",value:function(e){var t=e.containerSelector,n=e.templateId,i=C.TEMPLATE_EVENT_LABELS[n];i&&b.default.registerPianoToutLoadEvent(i,t)}}],[{key:"getInstance",value:function(){return A||(A=new e(j))}},{key:"visibilityProxy",value:function(){return new p.default(document)}},{key:"reset",value:function(){var t=e.getInstance();t._firstRun=!0,t.setState(),Object.keys(P).forEach(function(e){window.removeEventListener(e,P[e])}),(0,T.default)("[data-from='pianola']")}}]),e}();t.exports=I},{"./custom_events/onCloseInline":36,"./custom_events/onNewsletter":37,"./custom_events/onRegistrationModal":38,"./custom_variables/newsletterVariables":39,"./data/constants":40,"./data/getBusinessweekCustomVars":41,"./data/getBusinessweekEntitlement":42,"./data/getPageCustomVars":43,"./data/getUserNewsletters":44,"./helpers/GoogleTracking":45,"./helpers/addGlobalCss":47,"./helpers/getCurrentBaseUrl":49,"./helpers/hideArticleContent":50,"./helpers/hideRegistrationModal":51,"./helpers/hideSmallLede":52,"./helpers/hideVideoPlayer":53,"./helpers/isSafePostMessage":54,"./helpers/removeGlobalCss":55,"./helpers/showArticleContent":56,"./helpers/transitionArticleBodyOpacity":57,"./helpers/userStatus":58,"./visibility/VisibilityProxy":59,"bb.polyfills/promise":63,"es6-symbol":162}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.params.params,n=JSON.parse(t).iframeId,s=document.querySelector("#"+n).parentElement,a="height 1s ease-out";if(!s)return;var u=s.style;u.height=0,u.overflow="hidden",u.transition=a,u["-webkit-transition"]=a,u["-moz-transition"]=a,u["-o-transition"]=a,(0,i.default)(1),(0,r.default)(!1),(0,o.default)(!1)};var i=s(e("../helpers/transitionArticleBodyOpacity")),r=s(e("../helpers/hideSmallLede")),o=s(e("../helpers/hideVideoPlayer"));function s(e){return e&&e.__esModule?e:{default:e}}t.exports=n.default},{"../helpers/hideSmallLede":52,"../helpers/hideVideoPlayer":53,"../helpers/transitionArticleBodyOpacity":57}],37:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,u){var d=e.params,f=d.email,h=d.params,p=d.listid;a.default.pushEvent({event:"Piano Newsletter Click",newsletterLabel:p});var v=JSON.parse(h).iframeId;if(!(0,i.isAValidEmail)(f))return void(0,r.postToPiano)(t,v,!1,"Invalid email address, please try again");var _=p.replace(" ","_");(g="/newsletter?emailAddress="+encodeURIComponent(f)+"&listId="+encodeURIComponent(_),m=p,new Promise(function(e,t){g||t();var n=new XMLHttpRequest;n.open("GET",g,!0),n.onload=function(){(n.status>=400||n.status<200)&&t(),a.default.pushEvent({event:"Piano Newsletter Signed Up",newsletterLabel:m});var i=s.default.get(o.COOKIES.USER_NEWSLETTERS)||null,r=JSON.parse(i)||[];-1===r.indexOf(m)&&(r.push(m),s.default.set(o.COOKIES.USER_NEWSLETTERS,JSON.stringify(r),o.COOKIES.NEWSLETTER_SETTINGS)),e()},n.send()})).then(function(){return e=f,t=n,new Promise(function(n){var i=new XMLHttpRequest,r=""+t+c+"?email="+e;i.open("GET",r,!0),i.onload=function(){i.status>=200&&i.status<400&&n(i.response),n(null)},i.send()});var e,t}).then(function(e){var n,i,o,s=l;u&&e&&(n=f,i=e,o=p.replace(" ","_"),s="\n            <div>"+l+'</div>\n            <a href="http://link.mail.bloombergbusiness.com/manage/4wm/optout?email='+n+"&hash="+i+"&source=nl_"+encodeURIComponent(o)+'" target="_blank">Sign up for more newsletters</a>\n        '),(0,r.postToPiano)(t,v,!0,s)}).catch(function(){(0,r.postToPiano)(t,v,!1,"Unknown Error")});var g,m};var i=e("../helpers/emails"),r=e("../helpers/PostMessage"),o=e("../data/constants"),s=u(e("js-cookie")),a=u(e("../helpers/GoogleTracking"));function u(e){return e&&e.__esModule?e:{default:e}}e("bb.polyfills/promise");var c="/sailthru-email-hash",l="Thank you for subscribing.";t.exports=n.default},{"../data/constants":40,"../helpers/GoogleTracking":45,"../helpers/PostMessage":46,"../helpers/emails":48,"bb.polyfills/promise":63,"js-cookie":167}],38:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.params.params,n={};try{n=JSON.parse(t)}catch(e){return}var i=n,r=i.pageType,s=i.template,a=i.source,u={prev_action:s+" - "+a},c=new o.default(null,{queryParams:u}).initialize();switch(r){case"sign-in":c.linkToSignIn();break;case"register":c.linkToRegister();break;case"terminal-connect":c.linkToTerminalRegister();break;case"bw-register":c.linkToBwRegister()}};var i,r=e("reg-ui-client"),o=(i=r)&&i.__esModule?i:{default:i};t.exports=n.default},{"reg-ui-client":171}],39:[function(e,t,n){"use strict";function i(e){return"isSubscribedTo"+e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join("").replace(/(Weekly|Daily)|\'/g,"")}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return(Array.isArray(e)?e:[]).filter(function(e){return"string"==typeof e}).map(i).reduce(function(e,t){return Object.assign({},e,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t,!0))},{})},t.exports=n.default},{}],40:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=n.TIME={SEVEN_DAYS_IN_MILLISECONDS:6048e5,MILLISECONDS_IN_DAY:864e5};n.COOKIES={USER_STATUS:"_user-status",USER_NEWSLETTERS:"_user_newsletters",BW_ARTICLE_IDS_VIEWED:"_bw-articles-viewed",BW_ARTICLE_EXPIRY_DAYS:7,NEWSLETTER_SETTINGS:{expires:i.SEVEN_DAYS_IN_MILLISECONDS,path:"/",domain:"bloomberg.com"},BUSINESSWEEK_SUBSCRIPTIONS:"_business_subscription"},n.CUSTOM_DATA_PREFIX="piano-",n.TEMPLATE_EVENT_LABELS={OT5CGM1LNI7L:"article-newsletter-tout",OTB4GDO5MQTW:"pay-wall",OT1A8HHNF6VJ:"pay-wall",OTG1HY1TG25M:"pay-meter",OT7K6GWC34AM:"pay-wall",OTKDKCXFG7MC:"reg-meter",OTG8AYI6GPUJ:"reg-hardwall",OTQC02INAP0U:"reg-hardwall",OTGKGZJORNLE:"reg-hardwall",OTUZMAV71S9X:"article-newsletter-tout",OT78XPQFJ92I:"pay-wall",OTSBRX9RCK6Q:"pay-wall",OTGPDR0PX1QH:"pay-meter",OTBBE7TZZFLB:"pay-wall",OTIQXU3ISUEM:"reg-meter",OT5DGYPZU17A:"reg-hardwall",OT9H36F5QPJA:"reg-hardwall"}},{}],41:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)return{};return{isOlderThanAYear:(new Date).getTime()-new Date(e).getTime()>i}};var i=31536e6;t.exports=n.default},{}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return{entitlement:o.default.get(s.COOKIES.BUSINESSWEEK_SUBSCRIPTIONS)}};var i,r=e("js-cookie"),o=(i=r)&&i.__esModule?i:{default:i},s=e("./constants");t.exports=n.default},{"./constants":40,"js-cookie":167}],43:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=window.document.querySelectorAll('[id^="'+i.CUSTOM_DATA_PREFIX+'"]'),t=e[e.length-1];if(!t||!t.innerHTML)return{};return JSON.parse(t.innerHTML)};var i=e("./constants");t.exports=n.default},{"./constants":40}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=o.default.get(s.COOKIES.USER_STATUS),n=function(e){try{return JSON.parse(e)}catch(e){return null}}(o.default.get(s.COOKIES.USER_NEWSLETTERS));if(n&&n.length>=0)return Promise.resolve(n);if(i=t,"logged_in"!==i)return o.default.set(s.COOKIES.USER_NEWSLETTERS,JSON.stringify([]),s.COOKIES.NEWSLETTER_SETTINGS),Promise.resolve([]);var i;if(c=t,"logged_in"===c){var r=""+e+a;return u(r).then(function(e){return o.default.set(s.COOKIES.USER_NEWSLETTERS,JSON.stringify(e),s.COOKIES.NEWSLETTER_SETTINGS),e}).catch(function(){})}var c;return Promise.resolve([])},n.fetchNewsletterSettings=u,n.parseNewsletterData=c;var i,r=e("js-cookie"),o=(i=r)&&i.__esModule?i:{default:i},s=e("./constants");e("bb.polyfills/promise");var a="/api/newsletters/data";function u(e){return new Promise(function(t){e||t();var n=new XMLHttpRequest;n.withCredentials=!0,n.open("GET",e,!0),n.onload=function(){(n.status>=400||n.status<200)&&t();var e=c(JSON.parse(n.response)||[]);t(e)},n.send()})}function c(e){return Array.isArray(e)?e.filter(function(e){return!0===e.subscribed}).map(function(e){return e.list_id}):[]}},{"./constants":40,"bb.polyfills/promise":63,"js-cookie":167}],45:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={pushEvent:function(e){window&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push(e))},updateDataLayer:function(e){if(e){var t=this.getTrackingParams(e);this.pushEvent(t)}},registerClickEvent:function(e,t,n){var i={event:"gtm.click","gtm.elementClasses":e,"gtm.element":t};n&&(i["gtm.elementTarget"]=n),this.pushEvent(i)},registerPianoToutLoadEvent:function(e,t){var n={event:"Piano Tout Load",pianoToutLabel:e,cd69:t};this.pushEvent(n)},getTrackingParams:function(e){if(!e)return e;var t=e.pageName||"",n=e.pageType||"",i={pageName:t,pageType:n,contentType:e.contentType||n+"-"+t,template:e.template,refresh:"false",pageTitle:t};return Object.keys(i).forEach(function(e){i[e]||delete i[e]}),i}};n.default=i,t.exports=n.default},{}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("./getCurrentBaseUrl"),o=(i=r)&&i.__esModule?i:{default:i};n.default={postToPiano:function(e,t,n,i){var r=window.document.querySelector("#"+t);r&&r.contentWindow.postMessage({piano:{success:n,message:i}},e)},postToParent:function(e){parent.postMessage(e,(0,o.default)())}},t.exports=n.default},{"./getCurrentBaseUrl":49}],47:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if(!document)return;var n=document.createElement("style");n.setAttribute("type","text/css"),Object.keys(t).forEach(function(e){n.setAttribute(e,t[e])}),n.appendChild(document.createTextNode(e)),document.head.appendChild(n)},t.exports=n.default},{}],48:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isAValidEmail=function(e){return!!i.test(e)};var i=/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-zA-Z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},{}],49:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return location.origin||location.protocol+"//"+location.host},t.exports=n.default},{}],50:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!document)return;var e=document.querySelector(s);if(!e)return;var t=Array.prototype.slice.call(e.children),n=document.querySelector(".transporter-item.current "+a+":not(:empty)"),i=!1;t.filter(function(e){return e===n?(i=!0,!1):!0===i}).forEach(function(e){e.className+=e.className?" "+u:u}),document.head.querySelector("[data-for='piano-regwall']")||(r="\n        ."+u+" {\n            display: none !important;\n        }\n    ",(0,o.default)(r,{"data-for":"piano-regwall"}));var r};var i,r=e("./addGlobalCss"),o=(i=r)&&i.__esModule?i:{default:i};var s=".transporter-item.current .body-copy",a=".regwall",u="regwall-piano-hidden";t.exports=n.default},{"./addGlobalCss":47}],51:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=window.tp||[];e.push(["init",function(){e.offer.close()}])},t.exports=n.default},{}],52:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=document.querySelector(i);if(!t)return;t.style.display=e?"none":"block"};var i=".content-well .lede-media-image";t.exports=n.default},{}],53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=document.querySelector(i);if(!t)return;var n=window.BPlayer;if(!n)return;var o=document.querySelector(r),s=n.getPlayer(o.getAttribute("id")+"-child");s.ready(function(){t.style.display=e?"none":"block",function(e){if(!e||!e.currentPlayer||!e.currentPlayer.userOptions)return!1;return e.currentPlayer.userOptions.autoplay}(s)&&(e?s.pause():s.play())})};var i=".content-well .lede-media-video",r=".content-well .video-player__container";t.exports=n.default},{}],54:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return t.indexOf(e)>=0},t.exports=n.default},{}],55:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!document)return;var t=document.head.querySelector(e);if(!t)return;document.head.removeChild(t)},t.exports=n.default},{}],56:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!document)return;var e=document.querySelector(".transporter-item");if(document.querySelector(".transporter-item.current")!==e)return void(document.location.href=document.location.href);(0,o.default)("[data-for='piano-regwall']"),Array.prototype.slice.call(document.querySelectorAll(".regwall")).forEach(function(e){e.parentNode.removeChild(e)})};var i,r=e("./removeGlobalCss"),o=(i=r)&&i.__esModule?i:{default:i};t.exports=n.default},{"./removeGlobalCss":55}],57:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=document.querySelector(i),n="opacity 1s linear";if(!t)return;var r=t.style;r.opacity=e,r.transition=n,r["-webkit-transition"]=n,r["-moz-transition"]=n,r["-o-transition"]=n};var i=".body-copy";t.exports=n.default},{}],58:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getUserStatusCustomVars=function(){return{user_status:o.default.get(s.COOKIES.USER_STATUS)}};var i,r=e("js-cookie"),o=(i=r)&&i.__esModule?i:{default:i},s=e("../data/constants")},{"../data/constants":40,"js-cookie":167}],59:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=e("./visibilityAPINames"),s=(i=o)&&i.__esModule?i:{default:i};var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pianoLoaded=!1;var n=(0,s.default)(t);this.hiddenPropName=n.hidden,this.visibilityChangeEvent=n.visibilityChangeEvent}return r(e,[{key:"proxyLoader",value:function(e,t,n){if(this._browserHasVisibilityAPI(e)&&this._hiddenWindow(e)&&!this.pianoLoaded){var i=this._loadWhenVisible.bind(this,e,t,n);this.cleanup=function(){e.removeEventListener(this.visibilityChangeEvent,i,!1)},e.addEventListener(this.visibilityChangeEvent,i,!1)}else this._initializePiano(t,n)}},{key:"_loadWhenVisible",value:function(e,t,n){e[this.hiddenPropName]||this.pianoLoaded||(this._initializePiano(t,n),this.cleanup(),this.cleanup=null)}},{key:"_hiddenWindow",value:function(e){return e[this.hiddenPropName]}},{key:"_browserHasVisibilityAPI",value:function(e){return void 0!==e.addEventListener&&void 0!==e[this.hiddenPropName]}},{key:"_initializePiano",value:function(e,t){e(),t(),this.pianoLoaded=!0}}]),e}();n.default=a,t.exports=n.default},{"./visibilityAPINames":60}],60:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=void 0,n=void 0;return void 0!==e.hidden?(t="hidden",n="visibilitychange"):void 0!==e.msHidden?(t="msHidden",n="msvisibilitychange"):void 0!==e.webkitHidden&&(t="webkitHidden",n="webkitvisibilitychange"),{hidden:t,visibilityChangeEvent:n}},t.exports=n.default},{}],61:[function(e,t,n){"use strict";!function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}()},{}],62:[function(e,t,n){"use strict";var i=e("core-js/library/fn/object/assign");Object.assign=Object.assign?Object.assign:i},{"core-js/library/fn/object/assign":75}],63:[function(e,t,n){"use strict";if("undefined"!=typeof window){var i=e("core-js/library/es6/promise");window.Promise=window.Promise?window.Promise:i}},{"core-js/library/es6/promise":74}],64:[function(e,t,n){"use strict";"undefined"!=typeof window&&e("./vendor/requestAnimationFrame")},{"./vendor/requestAnimationFrame":65}],65:[function(e,t,n){!function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var i=(new Date).getTime(),r=Math.max(0,16-(i-e)),o=window.setTimeout(function(){t(i+r)},r);return e=i+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},{}],66:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=e("../entities/entities.js"),o=e("../helper/helper"),s=e("../social/referrer.js"),a=e("../entities/config.js"),u=e("../userInfo/userInfo.js"),c=e("object-assign"),l=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a();if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===t||null===t||(void 0===n||null===n))throw Error("Please provide both the window and document object to Byzantium");this.__window=t,this.__document=n,this.__config=i,this.getTags=this.getTags.bind(this),this.refreshLocalStorageWithCurrentResource()}return i(e,[{key:"getTags",value:function(e){var t=r.scrapeTags(this.__document);return this.__generateTags(e,t)}},{key:"getTagsWithContentInfo",value:function(e,t){return t=r.formatContentTags(t),this.__generateTags(e,t)}},{key:"injectIFrame",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e&&e.getElementsByTagName("iframe").length>0||""===n)return e=null,!1;var i=this.__document.createElement("iframe");return i.setAttribute("src",n),i.setAttribute("style","width: 100%; height: "+t.height),e.appendChild(i),e=null,i=null,!0}},{key:"__generateTags",value:function(e,t){var n=this.__pageReferrer(),i=this.__getContextEntities(t),r=this.__getPreferredEntities(t),s={};o.addToQueryParamsFromTags(i,s,"context"),o.addToQueryParamsFromTags(r,s,"preferred");var a=this.__getReferrer(n);return a&&(s.referrer=a),c({},e,s)}},{key:"__getReferrer",value:function(e){return s(e)}},{key:"__pageReferrer",value:function(){var e=this.__window.__bloomberg__&&this.__window.__bloomberg__.referrer,t=this.__document&&this.__document.referrer;return e?this.__window.__bloomberg__.referrer:t?this.__document.referrer:void 0}},{key:"__getContextEntities",value:function(e){var t=r.filterByThreshold(e,this.__config.entitiesConfig),n=o.getTopK(r.squashEntities(t),this.__config.targetingParamLimit);return o.valuesToCSV(r.categorizeEntites(n))}},{key:"__getPreferredEntities",value:function(e){var t=r.filterByThreshold(e,this.__config.entitiesConfig),n=r.transformPreferenceEntities(JSON.parse(localStorage.getItem("userInfo")),this.__config.confidenceThreshold),i=r.combineEntities(t,n,this.__config.entitiesConfig),s=o.getTopK(r.squashEntities(i),this.__config.targetingParamLimit);return o.valuesToCSV(r.categorizeEntites(s))}},{key:"refreshLocalStorageWithCurrentResource",value:function(){var e=u.getCurrentResource(this.__document);u.requestUserInfo(this.__document,this.__config.targetingParamLimit,e)}}]),e}();t.exports=l},{"../entities/config.js":67,"../entities/entities.js":68,"../helper/helper":70,"../social/referrer.js":72,"../userInfo/userInfo.js":73,"object-assign":169}],67:[function(e,t,n){"use strict";t.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.25,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1.5,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,l=arguments.length>10&&void 0!==arguments[10]?arguments[10]:2,d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:3;return{entitiesConfig:{people:{THRESHOLD:e},tickers:{THRESHOLD:t},indexes:{THRESHOLD:n},topics:{THRESHOLD:i},Commodity:{THRESHOLD:u},City:{THRESHOLD:l},Fund:{THRESHOLD:arguments.length>12&&void 0!==arguments[12]?arguments[12]:1},Organization:{THRESHOLD:c},Country:{THRESHOLD:s},Currency:{THRESHOLD:a},Region:{THRESHOLD:d},Classification:{THRESHOLD:arguments.length>13&&void 0!==arguments[13]?arguments[13]:2},Location:{THRESHOLD:arguments.length>14&&void 0!==arguments[14]?arguments[14]:1},Event:{THRESHOLD:arguments.length>15&&void 0!==arguments[15]?arguments[15]:1}},targetingParamLimit:r,confidenceThreshold:o}}},{}],68:[function(e,t,n){"use strict";var i=e("../helper/helper.js"),r={Commodity:"Commodity",Currency:"Currency",City:"City",Region:"Region",Fund:"Fund",Bond:"Bond",Organization:"Organization",Country:"Country",Classification:"Classification",Person:"people",Company:"tickers",Index:"indexes",Topic:"topics",Location:"Location",Event:"Event"};function o(e){return e&&e.contentTags?e.contentTags.reduce(function(e,t){var n=r[t.type];return n?(t.score=t.derivedScore,e[n]=e[n]||[],e[n].push(t),e):e},{}):null}n.scrapeTags=function(e){var t={},n=e.getElementsByClassName("article-info-json");if(void 0!==n&&n.length>=1){var i=n.item(n.length-1);(i=JSON.parse(i.textContent)).hasOwnProperty("contentTags")?t=o(i):i.hasOwnProperty("tags")&&(t=i.tags)}return t},n.filterByThreshold=function(e,t){var n={};if(e instanceof Object)for(var r in t)e.hasOwnProperty(r)&&e[r]instanceof Array&&(n[r]=i.filterList(e[r],t[r].THRESHOLD),n[r].map(function(e){return e.entityType=r}));return n},n.squashEntities=function(e){var t=[];if(e instanceof Object)for(var n in e)e[n]instanceof Array&&(t=t.concat(e[n]));return t},n.categorizeEntites=function(e){var t={};return e instanceof Array&&e.forEach(function(e){t.hasOwnProperty(e.entityType)||(t[e.entityType]=[]),t[e.entityType].push(e)}),t},n.combineEntities=function(e,t,n){var i={};if(!(e instanceof Object||t instanceof Object))return{};if(e instanceof Object&&!(t instanceof Object))return e;if(!(e instanceof Object)&&t instanceof Object)return t;for(var r in n)if(e.hasOwnProperty(r)&&e[r]instanceof Array&&!t.hasOwnProperty(r))i[r]=e[r];else if(t.hasOwnProperty(r)&&t[r]instanceof Array&&!e.hasOwnProperty(r))i[r]=t[r];else if(e.hasOwnProperty(r)&&t.hasOwnProperty(r)){i[r]=[];var o={};for(var s in e[r]instanceof Array&&e[r].forEach(function(e){e.hasOwnProperty("id")&&e.hasOwnProperty("score")&&(o[e.id]=e)}),t[r]instanceof Array&&t[r].forEach(function(e){if(e.hasOwnProperty("id")&&e.hasOwnProperty("score"))if(o.hasOwnProperty(e.id)){var t=o[e.id];t.score+=e.score,o[e.id]=t}else o[e.id]=e}),o)i[r].push(o[s])}return i},n.formatContentTags=o,n.transformPreferenceEntities=function(e,t){var n={};if(!(e instanceof Object&&e.hasOwnProperty("Tag")&&e.Tag instanceof Object))return{};var i=e.Tag;if(!i.hasOwnProperty("Confidence")||!i.hasOwnProperty("Preferences"))return{};var o=i.Confidence;if(o<t)return{};var s=i.Preferences;for(var a in r)s[a]instanceof Array&&(n[r[a]]=[],s[a].map(function(e){e.hasOwnProperty("score")&&e.hasOwnProperty("assetID")&&(e.score*=o,e.id=e.assetID,e.entityType=r[a],n[r[a]].push(e))}));return n}},{"../helper/helper.js":70}],69:[function(e,t,n){"use strict";var i={get:function(e,t){if(e&&e.cookie){var n=e.cookie.match("(^|;) ?"+t+"=([^;$]*)");if(n)return n[2]}return null}};t.exports=i},{}],70:[function(e,t,n){"use strict";n.filterList=function(e,t){return e.filter(function(e){return e.score>=t})},n.getTopK=function(e,t){return void 0===t||t<=0?[]:e.sort(function(e,t){return e.score<t.score?-1:e.score>t.score?1:0}).slice(-t).reverse()},n.valuesToCSV=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",n={};if(e instanceof Object)for(var i in e)if(e[i]instanceof Array){var r=[];e[i].forEach(function(e){e.hasOwnProperty(t)&&r.push(e[t])}),n[i]=r.join()}return n},n.addToQueryParamsFromTags=function(e,t,n){for(var i in e)e[i]&&(t[n+(i.charAt(0).toUpperCase()+i.slice(1))]=e[i]);return t}},{}],71:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={"m.facebook.com":"FACEBOOK","www.facebook.com":"FACEBOOK","lm.facebook.com":"FACEBOOK","l.facebook.com":"FACEBOOK","t.co":"TWITTER","www.twitter.com":"TWITTER","www.linkedin.com":"LINKEDIN","lnkd.in":"LINKEDIN","touch.www.linkedin.com":"LINKEDIN","plus.url.google.com":"GOOGLE_PLUS","www.reddit.com":"REDDIT","www.bloomberg.com":"BLOOMBERG"},t.exports=n.default},{}],72:[function(e,t,n){"use strict";var i=e("./domains"),r=/https?:\/\/([^ \/]+)/;t.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=r.exec(e);return null===t||""===t?e:i[t[1]]||t[1]}},{"./domains":71}],73:[function(e,t,n){"use strict";e("../entities/config.js");var i=e("../helper/cookie.js"),r={article:"Story",breaking_news:"Story",data_article:"Dataarticle",feature:"Feature",slideshow:"Slideshow",topic:"Topic",video:"Video",company:"Company",person:"Person",interactive:"Interactive",author:"Author"},o="https://personalization.bloomberg.com/user/info";n.requestUserInfo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=o+"?limit="+t,s=new XMLHttpRequest;s.onreadystatechange=function(){4===s.readyState&&200===s.status&&localStorage.setItem("userInfo",this.responseText)},""!==n&&(r+="&currentResource="+n);var a=i.get(e,"session_id");a&&(r+="&session_id="+a),s.open("GET",r),s.withCredentials=!0,s.send()},n.getCurrentResource=function(e){var t="",n=e.getElementsByClassName("article-info-json");if(void 0!==n&&n.length>=1){var i=n.item(n.length-1);(i=JSON.parse(i.textContent)).hasOwnProperty("id")&&i.hasOwnProperty("contentType")&&r.hasOwnProperty(i.contentType)&&(t=r[i.contentType]+"|"+i.id)}return t}},{"../entities/config.js":67,"../helper/cookie.js":69}],74:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/_core").Promise},{"../modules/_core":83,"../modules/es6.object.to-string":142,"../modules/es6.promise":143,"../modules/es6.string.iterator":144,"../modules/web.dom.iterable":145}],75:[function(e,t,n){e("../../modules/es6.object.assign"),t.exports=e("../../modules/_core").Object.assign},{"../../modules/_core":83,"../../modules/es6.object.assign":141}],76:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],77:[function(e,t,n){t.exports=function(){}},{}],78:[function(e,t,n){t.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},{}],79:[function(e,t,n){var i=e("./_is-object");t.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":100}],80:[function(e,t,n){var i=e("./_to-iobject"),r=e("./_to-length"),o=e("./_to-absolute-index");t.exports=function(e){return function(t,n,s){var a,u=i(t),c=r(u.length),l=o(s,c);if(e&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},{"./_to-absolute-index":131,"./_to-iobject":133,"./_to-length":134}],81:[function(e,t,n){var i=e("./_cof"),r=e("./_wks")("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:o?i(t):"Object"==(s=i(t))&&"function"==typeof t.callee?"Arguments":s}},{"./_cof":82,"./_wks":138}],82:[function(e,t,n){var i={}.toString;t.exports=function(e){return i.call(e).slice(8,-1)}},{}],83:[function(e,t,n){var i=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=i)},{}],84:[function(e,t,n){var i=e("./_a-function");t.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":76}],85:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],86:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":90}],87:[function(e,t,n){var i=e("./_is-object"),r=e("./_global").document,o=i(r)&&i(r.createElement);t.exports=function(e){return o?r.createElement(e):{}}},{"./_global":92,"./_is-object":100}],88:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],89:[function(e,t,n){var i=e("./_global"),r=e("./_core"),o=e("./_ctx"),s=e("./_hide"),a="prototype",u=function(e,t,n){var c,l,d,f=e&u.F,h=e&u.G,p=e&u.S,v=e&u.P,_=e&u.B,g=e&u.W,m=h?r:r[t]||(r[t]={}),y=m[a],b=h?i:p?i[t]:(i[t]||{})[a];for(c in h&&(n=t),n)(l=!f&&b&&void 0!==b[c])&&c in m||(d=l?b[c]:n[c],m[c]=h&&"function"!=typeof b[c]?n[c]:_&&l?o(d,i):g&&b[c]==d?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t[a]=e[a],t}(d):v&&"function"==typeof d?o(Function.call,d):d,v&&((m.virtual||(m.virtual={}))[c]=d,e&u.R&&y&&!y[c]&&s(y,c,d)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{"./_core":83,"./_ctx":84,"./_global":92,"./_hide":94}],90:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],91:[function(e,t,n){var i=e("./_ctx"),r=e("./_iter-call"),o=e("./_is-array-iter"),s=e("./_an-object"),a=e("./_to-length"),u=e("./core.get-iterator-method"),c={},l={};(n=t.exports=function(e,t,n,d,f){var h,p,v,_,g=f?function(){return e}:u(e),m=i(n,d,t?2:1),y=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(h=a(e.length);h>y;y++)if((_=t?m(s(p=e[y])[0],p[1]):m(e[y]))===c||_===l)return _}else for(v=g.call(e);!(p=v.next()).done;)if((_=r(v,m,p.value,t))===c||_===l)return _}).BREAK=c,n.RETURN=l},{"./_an-object":79,"./_ctx":84,"./_is-array-iter":99,"./_iter-call":101,"./_to-length":134,"./core.get-iterator-method":139}],92:[function(e,t,n){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},{}],93:[function(e,t,n){var i={}.hasOwnProperty;t.exports=function(e,t){return i.call(e,t)}},{}],94:[function(e,t,n){var i=e("./_object-dp"),r=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":86,"./_object-dp":112,"./_property-desc":121}],95:[function(e,t,n){var i=e("./_global").document;t.exports=i&&i.documentElement},{"./_global":92}],96:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":86,"./_dom-create":87,"./_fails":90}],97:[function(e,t,n){t.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],98:[function(e,t,n){var i=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},{"./_cof":82}],99:[function(e,t,n){var i=e("./_iterators"),r=e("./_wks")("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},{"./_iterators":106,"./_wks":138}],100:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],101:[function(e,t,n){var i=e("./_an-object");t.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},{"./_an-object":79}],102:[function(e,t,n){"use strict";var i=e("./_object-create"),r=e("./_property-desc"),o=e("./_set-to-string-tag"),s={};e("./_hide")(s,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=i(s,{next:r(1,n)}),o(e,t+" Iterator")}},{"./_hide":94,"./_object-create":111,"./_property-desc":121,"./_set-to-string-tag":125,"./_wks":138}],103:[function(e,t,n){"use strict";var i=e("./_library"),r=e("./_export"),o=e("./_redefine"),s=e("./_hide"),a=e("./_has"),u=e("./_iterators"),c=e("./_iter-create"),l=e("./_set-to-string-tag"),d=e("./_object-gpo"),f=e("./_wks")("iterator"),h=!([].keys&&"next"in[].keys()),p="values",v=function(){return this};t.exports=function(e,t,n,_,g,m,y){c(n,t,_);var b,w,k,E=function(e){if(!h&&e in x)return x[e];switch(e){case"keys":case p:return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",T=g==p,C=!1,x=e.prototype,O=x[f]||x["@@iterator"]||g&&x[g],j=O||E(g),A=g?T?E("entries"):j:void 0,P="Array"==t&&x.entries||O;if(P&&(k=d(P.call(new e)))!==Object.prototype&&k.next&&(l(k,S,!0),i||a(k,f)||s(k,f,v)),T&&O&&O.name!==p&&(C=!0,j=function(){return O.call(this)}),i&&!y||!h&&!C&&x[f]||s(x,f,j),u[t]=j,u[S]=v,g)if(b={values:T?j:E(p),keys:m?j:E("keys"),entries:A},y)for(w in b)w in x||o(x,w,b[w]);else r(r.P+r.F*(h||C),t,b);return b}},{"./_export":89,"./_has":93,"./_hide":94,"./_iter-create":102,"./_iterators":106,"./_library":107,"./_object-gpo":115,"./_redefine":123,"./_set-to-string-tag":125,"./_wks":138}],104:[function(e,t,n){var i=e("./_wks")("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},e(o)}catch(e){}return n}},{"./_wks":138}],105:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],106:[function(e,t,n){t.exports={}},{}],107:[function(e,t,n){t.exports=!0},{}],108:[function(e,t,n){var i=e("./_global"),r=e("./_task").set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,u="process"==e("./_cof")(s);t.exports=function(){var e,t,n,c=function(){var i,r;for(u&&(i=s.domain)&&i.exit();e;){r=e.fn,e=e.next;try{r()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(u)n=function(){s.nextTick(c)};else if(o){var l=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),n=function(){d.data=l=!l}}else if(a&&a.resolve){var f=a.resolve();n=function(){f.then(c)}}else n=function(){r.call(i,c)};return function(i){var r={fn:i,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},{"./_cof":82,"./_global":92,"./_task":130}],109:[function(e,t,n){"use strict";var i=e("./_a-function");t.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=i(t),this.reject=i(n)}(e)}},{"./_a-function":76}],110:[function(e,t,n){"use strict";var i=e("./_object-keys"),r=e("./_object-gops"),o=e("./_object-pie"),s=e("./_to-object"),a=e("./_iobject"),u=Object.assign;t.exports=!u||e("./_fails")(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=i})?function(e,t){for(var n=s(e),u=arguments.length,c=1,l=r.f,d=o.f;u>c;)for(var f,h=a(arguments[c++]),p=l?i(h).concat(l(h)):i(h),v=p.length,_=0;v>_;)d.call(h,f=p[_++])&&(n[f]=h[f]);return n}:u},{"./_fails":90,"./_iobject":98,"./_object-gops":114,"./_object-keys":117,"./_object-pie":118,"./_to-object":135}],111:[function(e,t,n){var i=e("./_an-object"),r=e("./_object-dps"),o=e("./_enum-bug-keys"),s=e("./_shared-key")("IE_PROTO"),a=function(){},u="prototype",c=function(){var t,n=e("./_dom-create")("iframe"),i=o.length;for(n.style.display="none",e("./_html").appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;i--;)delete c[u][o[i]];return c()};t.exports=Object.create||function(e,t){var n;return null!==e?(a[u]=i(e),n=new a,a[u]=null,n[s]=e):n=c(),void 0===t?n:r(n,t)}},{"./_an-object":79,"./_dom-create":87,"./_enum-bug-keys":88,"./_html":95,"./_object-dps":113,"./_shared-key":126}],112:[function(e,t,n){var i=e("./_an-object"),r=e("./_ie8-dom-define"),o=e("./_to-primitive"),s=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":79,"./_descriptors":86,"./_ie8-dom-define":96,"./_to-primitive":136}],113:[function(e,t,n){var i=e("./_object-dp"),r=e("./_an-object"),o=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){r(e);for(var n,s=o(t),a=s.length,u=0;a>u;)i.f(e,n=s[u++],t[n]);return e}},{"./_an-object":79,"./_descriptors":86,"./_object-dp":112,"./_object-keys":117}],114:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],115:[function(e,t,n){var i=e("./_has"),r=e("./_to-object"),o=e("./_shared-key")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},{"./_has":93,"./_shared-key":126,"./_to-object":135}],116:[function(e,t,n){var i=e("./_has"),r=e("./_to-iobject"),o=e("./_array-includes")(!1),s=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n,a=r(e),u=0,c=[];for(n in a)n!=s&&i(a,n)&&c.push(n);for(;t.length>u;)i(a,n=t[u++])&&(~o(c,n)||c.push(n));return c}},{"./_array-includes":80,"./_has":93,"./_shared-key":126,"./_to-iobject":133}],117:[function(e,t,n){var i=e("./_object-keys-internal"),r=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return i(e,r)}},{"./_enum-bug-keys":88,"./_object-keys-internal":116}],118:[function(e,t,n){n.f={}.propertyIsEnumerable},{}],119:[function(e,t,n){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],120:[function(e,t,n){var i=e("./_an-object"),r=e("./_is-object"),o=e("./_new-promise-capability");t.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},{"./_an-object":79,"./_is-object":100,"./_new-promise-capability":109}],121:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],122:[function(e,t,n){var i=e("./_hide");t.exports=function(e,t,n){for(var r in t)n&&e[r]?e[r]=t[r]:i(e,r,t[r]);return e}},{"./_hide":94}],123:[function(e,t,n){t.exports=e("./_hide")},{"./_hide":94}],124:[function(e,t,n){"use strict";var i=e("./_global"),r=e("./_core"),o=e("./_object-dp"),s=e("./_descriptors"),a=e("./_wks")("species");t.exports=function(e){var t="function"==typeof r[e]?r[e]:i[e];s&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},{"./_core":83,"./_descriptors":86,"./_global":92,"./_object-dp":112,"./_wks":138}],125:[function(e,t,n){var i=e("./_object-dp").f,r=e("./_has"),o=e("./_wks")("toStringTag");t.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},{"./_has":93,"./_object-dp":112,"./_wks":138}],126:[function(e,t,n){var i=e("./_shared")("keys"),r=e("./_uid");t.exports=function(e){return i[e]||(i[e]=r(e))}},{"./_shared":127,"./_uid":137}],127:[function(e,t,n){var i=e("./_global"),r="__core-js_shared__",o=i[r]||(i[r]={});t.exports=function(e){return o[e]||(o[e]={})}},{"./_global":92}],128:[function(e,t,n){var i=e("./_an-object"),r=e("./_a-function"),o=e("./_wks")("species");t.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||void 0==(n=i(s)[o])?t:r(n)}},{"./_a-function":76,"./_an-object":79,"./_wks":138}],129:[function(e,t,n){var i=e("./_to-integer"),r=e("./_defined");t.exports=function(e){return function(t,n){var o,s,a=String(r(t)),u=i(n),c=a.length;return u<0||u>=c?e?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):o:e?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},{"./_defined":85,"./_to-integer":132}],130:[function(e,t,n){var i,r,o,s=e("./_ctx"),a=e("./_invoke"),u=e("./_html"),c=e("./_dom-create"),l=e("./_global"),d=l.process,f=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,v=l.Dispatch,_=0,g={},m="onreadystatechange",y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){y.call(e.data)};f&&h||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++_]=function(){a("function"==typeof e?e:Function(e),t)},i(_),_},h=function(e){delete g[e]},"process"==e("./_cof")(d)?i=function(e){d.nextTick(s(y,e,1))}:v&&v.now?i=function(e){v.now(s(y,e,1))}:p?(o=(r=new p).port2,r.port1.onmessage=b,i=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(i=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):i=m in c("script")?function(e){u.appendChild(c("script"))[m]=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(s(y,e,1),0)}),t.exports={set:f,clear:h}},{"./_cof":82,"./_ctx":84,"./_dom-create":87,"./_global":92,"./_html":95,"./_invoke":97}],131:[function(e,t,n){var i=e("./_to-integer"),r=Math.max,o=Math.min;t.exports=function(e,t){return(e=i(e))<0?r(e+t,0):o(e,t)}},{"./_to-integer":132}],132:[function(e,t,n){var i=Math.ceil,r=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?r:i)(e)}},{}],133:[function(e,t,n){var i=e("./_iobject"),r=e("./_defined");t.exports=function(e){return i(r(e))}},{"./_defined":85,"./_iobject":98}],134:[function(e,t,n){var i=e("./_to-integer"),r=Math.min;t.exports=function(e){return e>0?r(i(e),9007199254740991):0}},{"./_to-integer":132}],135:[function(e,t,n){var i=e("./_defined");t.exports=function(e){return Object(i(e))}},{"./_defined":85}],136:[function(e,t,n){var i=e("./_is-object");t.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":100}],137:[function(e,t,n){var i=0,r=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+r).toString(36))}},{}],138:[function(e,t,n){var i=e("./_shared")("wks"),r=e("./_uid"),o=e("./_global").Symbol,s="function"==typeof o;(t.exports=function(e){return i[e]||(i[e]=s&&o[e]||(s?o:r)("Symbol."+e))}).store=i},{"./_global":92,"./_shared":127,"./_uid":137}],139:[function(e,t,n){var i=e("./_classof"),r=e("./_wks")("iterator"),o=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||o[i(e)]}},{"./_classof":81,"./_core":83,"./_iterators":106,"./_wks":138}],140:[function(e,t,n){"use strict";var i=e("./_add-to-unscopables"),r=e("./_iter-step"),o=e("./_iterators"),s=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},{"./_add-to-unscopables":77,"./_iter-define":103,"./_iter-step":105,"./_iterators":106,"./_to-iobject":133}],141:[function(e,t,n){var i=e("./_export");i(i.S+i.F,"Object",{assign:e("./_object-assign")})},{"./_export":89,"./_object-assign":110}],142:[function(e,t,n){},{}],143:[function(e,t,n){"use strict";var i,r,o,s,a=e("./_library"),u=e("./_global"),c=e("./_ctx"),l=e("./_classof"),d=e("./_export"),f=e("./_is-object"),h=e("./_a-function"),p=e("./_an-instance"),v=e("./_for-of"),_=e("./_species-constructor"),g=e("./_task").set,m=e("./_microtask")(),y=e("./_new-promise-capability"),b=e("./_perform"),w=e("./_promise-resolve"),k="Promise",E=u.TypeError,S=u.process,T=u[k],C="process"==l(S),x=function(){},O=r=y.f,j=!!function(){try{var t=T.resolve(1),n=(t.constructor={})[e("./_wks")("species")]=function(e){e(x,x)};return(C||"function"==typeof PromiseRejectionEvent)&&t.then(x)instanceof n}catch(e){}}(),A=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},P=function(e,t){if(!e._n){e._n=!0;var n=e._c;m(function(){for(var i=e._v,r=1==e._s,o=0,s=function(t){var n,o,s=r?t.ok:t.fail,a=t.resolve,u=t.reject,c=t.domain;try{s?(r||(2==e._h&&R(e),e._h=1),!0===s?n=i:(c&&c.enter(),n=s(i),c&&c.exit()),n===t.promise?u(E("Promise-chain cycle")):(o=A(n))?o.call(n,a,u):a(n)):u(i)}catch(e){u(e)}};n.length>o;)s(n[o++]);e._c=[],e._n=!1,t&&!e._h&&I(e)})}},I=function(e){g.call(u,function(){var t,n,i,r=e._v,o=L(e);if(o&&(t=b(function(){C?S.emit("unhandledRejection",r,e):(n=u.onunhandledrejection)?n({promise:e,reason:r}):(i=u.console)&&i.error&&i.error("Unhandled promise rejection",r)}),e._h=C||L(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},L=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,i=0;n.length>i;)if((t=n[i++]).fail||!L(t.promise))return!1;return!0},R=function(e){g.call(u,function(){var t;C?S.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},U=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},M=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=A(e))?m(function(){var i={_w:n,_d:!1};try{t.call(e,c(M,i,1),c(U,i,1))}catch(e){U.call(i,e)}}):(n._v=e,n._s=1,P(n,!1))}catch(e){U.call({_w:n,_d:!1},e)}}};j||(T=function(e){p(this,T,k,"_h"),h(e),i.call(this);try{e(c(M,this,1),c(U,this,1))}catch(e){U.call(this,e)}},(i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e("./_redefine-all")(T.prototype,{then:function(e,t){var n=O(_(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=C?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new i;this.promise=e,this.resolve=c(M,e,1),this.reject=c(U,e,1)},y.f=O=function(e){return e===T||e===s?new o(e):r(e)}),d(d.G+d.W+d.F*!j,{Promise:T}),e("./_set-to-string-tag")(T,k),e("./_set-species")(k),s=e("./_core")[k],d(d.S+d.F*!j,k,{reject:function(e){var t=O(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(a||!j),k,{resolve:function(e){return w(a&&this===s?T:this,e)}}),d(d.S+d.F*!(j&&e("./_iter-detect")(function(e){T.all(e).catch(x)})),k,{all:function(e){var t=this,n=O(t),i=n.resolve,r=n.reject,o=b(function(){var n=[],o=0,s=1;v(e,!1,function(e){var a=o++,u=!1;n.push(void 0),s++,t.resolve(e).then(function(e){u||(u=!0,n[a]=e,--s||i(n))},r)}),--s||i(n)});return o.e&&r(o.v),n.promise},race:function(e){var t=this,n=O(t),i=n.reject,r=b(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},{"./_a-function":76,"./_an-instance":78,"./_classof":81,"./_core":83,"./_ctx":84,"./_export":89,"./_for-of":91,"./_global":92,"./_is-object":100,"./_iter-detect":104,"./_library":107,"./_microtask":108,"./_new-promise-capability":109,"./_perform":119,"./_promise-resolve":120,"./_redefine-all":122,"./_set-species":124,"./_set-to-string-tag":125,"./_species-constructor":128,"./_task":130,"./_wks":138}],144:[function(e,t,n){"use strict";var i=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":103,"./_string-at":129}],145:[function(e,t,n){e("./es6.array.iterator");for(var i=e("./_global"),r=e("./_hide"),o=e("./_iterators"),s=e("./_wks")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var c=a[u],l=i[c],d=l&&l.prototype;d&&!d[s]&&r(d,s,c),o[c]=o.Array}},{"./_global":92,"./_hide":94,"./_iterators":106,"./_wks":138,"./es6.array.iterator":140}],146:[function(e,t,n){"use strict";var i=e("es5-ext/object/assign"),r=e("es5-ext/object/normalize-options"),o=e("es5-ext/object/is-callable"),s=e("es5-ext/string/#/contains");(t.exports=function(e,t){var n,o,a,u,c;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],null==e?(n=a=!0,o=!1):(n=s.call(e,"c"),o=s.call(e,"e"),a=s.call(e,"w")),c={value:t,configurable:n,enumerable:o,writable:a},u?i(r(u),c):c}).gs=function(e,t,n){var a,u,c,l;return"string"!=typeof e?(c=n,n=t,t=e,e=null):c=arguments[3],null==t?t=void 0:o(t)?null==n?n=void 0:o(n)||(c=n,n=void 0):(c=t,t=n=void 0),null==e?(a=!0,u=!1):(a=s.call(e,"c"),u=s.call(e,"e")),l={get:t,set:n,configurable:a,enumerable:u},c?i(r(c),l):l}},{"es5-ext/object/assign":148,"es5-ext/object/is-callable":151,"es5-ext/object/normalize-options":156,"es5-ext/string/#/contains":158}],147:[function(e,t,n){"use strict";t.exports=function(){}},{}],148:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Object.assign:e("./shim")},{"./is-implemented":149,"./shim":150}],149:[function(e,t,n){"use strict";t.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},{}],150:[function(e,t,n){"use strict";var i=e("../keys"),r=e("../valid-value"),o=Math.max;t.exports=function(e,t){var n,s,a,u=o(arguments.length,2);for(e=Object(r(e)),a=function(i){try{e[i]=t[i]}catch(e){n||(n=e)}},s=1;s<u;++s)t=arguments[s],i(t).forEach(a);if(void 0!==n)throw n;return e}},{"../keys":153,"../valid-value":157}],151:[function(e,t,n){"use strict";t.exports=function(e){return"function"==typeof e}},{}],152:[function(e,t,n){"use strict";var i=e("../function/noop")();t.exports=function(e){return e!==i&&null!==e}},{"../function/noop":147}],153:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Object.keys:e("./shim")},{"./is-implemented":154,"./shim":155}],154:[function(e,t,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},{}],155:[function(e,t,n){"use strict";var i=e("../is-value"),r=Object.keys;t.exports=function(e){return r(i(e)?Object(e):e)}},{"../is-value":152}],156:[function(e,t,n){"use strict";var i=e("./is-value"),r=Array.prototype.forEach,o=Object.create;t.exports=function(e){var t=o(null);return r.call(arguments,function(e){i(e)&&function(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)}),t}},{"./is-value":152}],157:[function(e,t,n){"use strict";var i=e("./is-value");t.exports=function(e){if(!i(e))throw new TypeError("Cannot use null or undefined");return e}},{"./is-value":152}],158:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?String.prototype.contains:e("./shim")},{"./is-implemented":159,"./shim":160}],159:[function(e,t,n){"use strict";var i="razdwatrzy";t.exports=function(){return"function"==typeof i.contains&&(!0===i.contains("dwa")&&!1===i.contains("foo"))}},{}],160:[function(e,t,n){"use strict";var i=String.prototype.indexOf;t.exports=function(e){return i.call(this,e,arguments[1])>-1}},{}],161:[function(e,t,n){(function(i,r){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.1
 */var o,s;o=this,s=function(){"use strict";function t(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,s=void 0,a=void 0,u=function(e,t){v[o]=e,v[o+1]=t,2===(o+=2)&&(a?a(_):w())};var c="undefined"!=typeof window?window:void 0,l=c||{},d=l.MutationObserver||l.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==i&&"[object process]"==={}.toString.call(i),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(_,1)}}var v=new Array(1e3);function _(){for(var e=0;e<o;e+=2){(0,v[e])(v[e+1]),v[e]=void 0,v[e+1]=void 0}o=0}var g,m,y,b,w=void 0;function k(e,t){var n=arguments,i=this,r=new this.constructor(T);void 0===r[S]&&q(r);var o,s=i._state;return s?(o=n[s-1],u(function(){return V(s,r,o,i._result)})):M(i,r,e,t),r}function E(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(T);return I(t,e),t}f?w=function(){return i.nextTick(_)}:d?(m=0,y=new d(_),b=document.createTextNode(""),y.observe(b,{characterData:!0}),w=function(){b.data=m=++m%2}):h?((g=new MessageChannel).port1.onmessage=_,w=function(){return g.port2.postMessage(0)}):w=void 0===c&&"function"==typeof e?function(){try{var t=e("vertx");return void 0!==(s=t.runOnLoop||t.runOnContext)?function(){s(_)}:p()}catch(e){return p()}}():p();var S=Math.random().toString(36).substring(16);function T(){}var C=void 0,x=1,O=2,j=new D;function A(e){try{return e.then}catch(e){return j.error=e,j}}function P(e,n,i){var r,o,s,a;n.constructor===e.constructor&&i===k&&n.constructor.resolve===E?(s=e,(a=n)._state===x?R(s,a._result):a._state===O?U(s,a._result):M(a,void 0,function(e){return I(s,e)},function(e){return U(s,e)})):i===j?(U(e,j.error),j.error=null):void 0===i?R(e,n):t(i)?(r=n,o=i,u(function(e){var t=!1,n=function(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}(o,r,function(n){t||(t=!0,r!==n?I(e,n):R(e,n))},function(n){t||(t=!0,U(e,n))},e._label);!t&&n&&(t=!0,U(e,n))},e)):R(e,n)}function I(e,t){var n,i;e===t?U(e,new TypeError("You cannot resolve a promise with itself")):(i=typeof(n=t),null===n||"object"!==i&&"function"!==i?R(e,t):P(e,t,A(t)))}function L(e){e._onerror&&e._onerror(e._result),B(e)}function R(e,t){e._state===C&&(e._result=t,e._state=x,0!==e._subscribers.length&&u(B,e))}function U(e,t){e._state===C&&(e._state=O,e._result=t,u(L,e))}function M(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+x]=n,r[o+O]=i,0===o&&e._state&&u(B,e)}function B(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,s=0;s<t.length;s+=3)i=t[s],r=t[s+n],i?V(n,i,r,o):r(o);e._subscribers.length=0}}function D(){this.error=null}var N=new D;function V(e,n,i,r){var o=t(i),s=void 0,a=void 0,u=void 0,c=void 0;if(o){if((s=function(e,t){try{return e(t)}catch(e){return N.error=e,N}}(i,r))===N?(c=!0,a=s.error,s.error=null):u=!0,n===s)return void U(n,new TypeError("A promises callback cannot return that same promise."))}else s=r,u=!0;n._state!==C||(o&&u?I(n,s):c?U(n,a):e===x?R(n,s):e===O&&U(n,s))}var H=0;function q(e){e[S]=H++,e._state=void 0,e._result=void 0,e._subscribers=[]}function G(e,t){this._instanceConstructor=e,this.promise=new e(T),this.promise[S]||q(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?R(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&R(this.promise,this._result))):U(this.promise,new Error("Array Methods must be provided an Array"))}function z(e){this[S]=H++,this._result=this._state=void 0,this._subscribers=[],T!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof z?function(e,t){try{t(function(t){I(e,t)},function(t){U(e,t)})}catch(t){U(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return G.prototype._enumerate=function(e){for(var t=0;this._state===C&&t<e.length;t++)this._eachEntry(e[t],t)},G.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===E){var r=A(e);if(r===k&&e._state!==C)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===z){var o=new n(T);P(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},G.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===C&&(this._remaining--,e===O?U(i,n):this._result[t]=n),0===this._remaining&&R(i,this._result)},G.prototype._willSettleAt=function(e,t){var n=this;M(e,void 0,function(e){return n._settledAt(x,t,e)},function(e){return n._settledAt(O,t,e)})},z.all=function(e){return new G(this,e).promise},z.race=function(e){var t=this;return n(e)?new t(function(n,i){for(var r=e.length,o=0;o<r;o++)t.resolve(e[o]).then(n,i)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},z.resolve=E,z.reject=function(e){var t=new this(T);return U(t,e),t},z._setScheduler=function(e){a=e},z._setAsap=function(e){u=e},z._asap=u,z.prototype={constructor:z,then:k,catch:function(e){return this.then(null,e)}},z.polyfill=function(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=z},z.Promise=z,z},"object"==typeof n&&void 0!==t?t.exports=s():"function"==typeof define&&define.amd?define(s):o.ES6Promise=s()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:170}],162:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Symbol:e("./polyfill")},{"./is-implemented":163,"./polyfill":165}],163:[function(e,t,n){"use strict";var i={object:!0,symbol:!0};t.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(e){return!1}return!!i[typeof Symbol.iterator]&&(!!i[typeof Symbol.toPrimitive]&&!!i[typeof Symbol.toStringTag])}},{}],164:[function(e,t,n){"use strict";t.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&("Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag]))}},{}],165:[function(e,t,n){"use strict";var i,r,o,s,a=e("d"),u=e("./validate-symbol"),c=Object.create,l=Object.defineProperties,d=Object.defineProperty,f=Object.prototype,h=c(null);if("function"==typeof Symbol){i=Symbol;try{String(i()),s=!0}catch(e){}}var p,v=(p=c(null),function(e){for(var t,n,i=0;p[e+(i||"")];)++i;return p[e+=i||""]=!0,d(f,t="@@"+e,a.gs(null,function(e){n||(n=!0,d(this,t,a(e)),n=!1)})),t});o=function(e){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return r(e)},t.exports=r=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return s?i(t):(n=c(o.prototype),t=void 0===t?"":String(t),l(n,{__description__:a("",t),__name__:a("",v(t))}))},l(r,{for:a(function(e){return h[e]?h[e]:h[e]=r(String(e))}),keyFor:a(function(e){var t;for(t in u(e),h)if(h[t]===e)return t}),hasInstance:a("",i&&i.hasInstance||r("hasInstance")),isConcatSpreadable:a("",i&&i.isConcatSpreadable||r("isConcatSpreadable")),iterator:a("",i&&i.iterator||r("iterator")),match:a("",i&&i.match||r("match")),replace:a("",i&&i.replace||r("replace")),search:a("",i&&i.search||r("search")),species:a("",i&&i.species||r("species")),split:a("",i&&i.split||r("split")),toPrimitive:a("",i&&i.toPrimitive||r("toPrimitive")),toStringTag:a("",i&&i.toStringTag||r("toStringTag")),unscopables:a("",i&&i.unscopables||r("unscopables"))}),l(o.prototype,{constructor:a(r),toString:a("",function(){return this.__name__})}),l(r.prototype,{toString:a(function(){return"Symbol ("+u(this).__description__+")"}),valueOf:a(function(){return u(this)})}),d(r.prototype,r.toPrimitive,a("",function(){var e=u(this);return"symbol"==typeof e?e:e.toString()})),d(r.prototype,r.toStringTag,a("c","Symbol")),d(o.prototype,r.toStringTag,a("c",r.prototype[r.toStringTag])),d(o.prototype,r.toPrimitive,a("c",r.prototype[r.toPrimitive]))},{"./validate-symbol":166,d:146}],166:[function(e,t,n){"use strict";var i=e("./is-symbol");t.exports=function(e){if(!i(e))throw new TypeError(e+" is not a symbol");return e}},{"./is-symbol":164}],167:[function(e,t,n){!function(e){var i=!1;if("function"==typeof define&&define.amd&&(define(e),i=!0),"object"==typeof n&&(t.exports=e(),i=!0),!i){var r=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=r,o}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}return function t(n){function i(t,r,o){var s;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=e({path:"/"},i.defaults,o)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*o.expires),o.expires=a}o.expires=o.expires?o.expires.toUTCString():"";try{s=JSON.stringify(r),/^[\{\[]/.test(s)&&(r=s)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var u="";for(var c in o)o[c]&&(u+="; "+c,!0!==o[c]&&(u+="="+o[c]));return document.cookie=t+"="+r+u}t||(s={});for(var l=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<l.length;f++){var h=l[f].split("="),p=h.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{var v=h[0].replace(d,decodeURIComponent);if(p=n.read?n.read(p,v):n(p,v)||p.replace(d,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(e){}if(t===v){s=p;break}t||(s[v]=p)}catch(e){}}return s}}return i.set=i,i.get=function(e){return i.call(i,e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(t,n){i(t,"",e(n,{expires:-1}))},i.withConverter=t,i}(function(){})})},{}],168:[function(e,t,n){var i,r;i=this,r=function(){function e(e,t){var s=e[0],a=e[1],u=e[2],l=e[3];a=o(a=o(a=o(a=o(a=r(a=r(a=r(a=r(a=i(a=i(a=i(a=i(a=n(a=n(a=n(a=n(a,u=n(u,l=n(l,s=n(s,a,u,l,t[0],7,-680876936),a,u,t[1],12,-389564586),s,a,t[2],17,606105819),l,s,t[3],22,-1044525330),u=n(u,l=n(l,s=n(s,a,u,l,t[4],7,-176418897),a,u,t[5],12,1200080426),s,a,t[6],17,-1473231341),l,s,t[7],22,-45705983),u=n(u,l=n(l,s=n(s,a,u,l,t[8],7,1770035416),a,u,t[9],12,-1958414417),s,a,t[10],17,-42063),l,s,t[11],22,-1990404162),u=n(u,l=n(l,s=n(s,a,u,l,t[12],7,1804603682),a,u,t[13],12,-40341101),s,a,t[14],17,-1502002290),l,s,t[15],22,1236535329),u=i(u,l=i(l,s=i(s,a,u,l,t[1],5,-165796510),a,u,t[6],9,-1069501632),s,a,t[11],14,643717713),l,s,t[0],20,-373897302),u=i(u,l=i(l,s=i(s,a,u,l,t[5],5,-701558691),a,u,t[10],9,38016083),s,a,t[15],14,-660478335),l,s,t[4],20,-405537848),u=i(u,l=i(l,s=i(s,a,u,l,t[9],5,568446438),a,u,t[14],9,-1019803690),s,a,t[3],14,-187363961),l,s,t[8],20,1163531501),u=i(u,l=i(l,s=i(s,a,u,l,t[13],5,-1444681467),a,u,t[2],9,-51403784),s,a,t[7],14,1735328473),l,s,t[12],20,-1926607734),u=r(u,l=r(l,s=r(s,a,u,l,t[5],4,-378558),a,u,t[8],11,-2022574463),s,a,t[11],16,1839030562),l,s,t[14],23,-35309556),u=r(u,l=r(l,s=r(s,a,u,l,t[1],4,-1530992060),a,u,t[4],11,1272893353),s,a,t[7],16,-155497632),l,s,t[10],23,-1094730640),u=r(u,l=r(l,s=r(s,a,u,l,t[13],4,681279174),a,u,t[0],11,-358537222),s,a,t[3],16,-722521979),l,s,t[6],23,76029189),u=r(u,l=r(l,s=r(s,a,u,l,t[9],4,-640364487),a,u,t[12],11,-421815835),s,a,t[15],16,530742520),l,s,t[2],23,-995338651),u=o(u,l=o(l,s=o(s,a,u,l,t[0],6,-198630844),a,u,t[7],10,1126891415),s,a,t[14],15,-1416354905),l,s,t[5],21,-57434055),u=o(u,l=o(l,s=o(s,a,u,l,t[12],6,1700485571),a,u,t[3],10,-1894986606),s,a,t[10],15,-1051523),l,s,t[1],21,-2054922799),u=o(u,l=o(l,s=o(s,a,u,l,t[8],6,1873313359),a,u,t[15],10,-30611744),s,a,t[6],15,-1560198380),l,s,t[13],21,1309151649),u=o(u,l=o(l,s=o(s,a,u,l,t[4],6,-145523070),a,u,t[11],10,-1120210379),s,a,t[2],15,718787259),l,s,t[9],21,-343485551),e[0]=c(s,e[0]),e[1]=c(a,e[1]),e[2]=c(u,e[2]),e[3]=c(l,e[3])}function t(e,t,n,i,r,o){return t=c(c(t,e),c(i,o)),c(t<<r|t>>>32-r,n)}function n(e,n,i,r,o,s,a){return t(n&i|~n&r,e,n,o,s,a)}function i(e,n,i,r,o,s,a){return t(n&r|i&~r,e,n,o,s,a)}function r(e,n,i,r,o,s,a){return t(n^i^r,e,n,o,s,a)}function o(e,n,i,r,o,s,a){return t(i^(n|~r),e,n,o,s,a)}function s(e){var t,n=[];for(t=0;64>t;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function a(e){for(var t="",n=0;4>n;n++)t+=l[e>>8*n+4&15]+l[e>>8*n&15];return t}function u(t){return function(e){for(var t=0;t<e.length;t++)e[t]=a(e[t]);return e.join("")}(function(t){txt="";var n,i=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=t.length;n+=64)e(r,s(t.substring(n-64,n)));t=t.substring(n-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)o[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(e(r,o),n=0;16>n;n++)o[n]=0;return o[14]=8*i,e(r,o),r}(t))}function c(e,t){return e+t&4294967295}function c(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}var l="0123456789abcdef".split("");return u("hello"),u},"function"==typeof define&&define.amd?define(r):"object"==typeof n?t.exports=r():i.md5=r()},{}],169:[function(e,t,n){
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))r.call(n,c)&&(a[c]=n[c]);if(i){s=i(n);for(var l=0;l<s.length;l++)o.call(n,s[l])&&(a[s[l]]=n[s[l]])}}return a}},{}],170:[function(e,t,n){var i,r,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(i===setTimeout)return setTimeout(e,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(e){i=s}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,l=[],d=!1,f=-1;function h(){d&&c&&(d=!1,c.length?l=c.concat(l):f=-1,l.length&&p())}function p(){if(!d){var e=u(h);d=!0;for(var t=l.length;t;){for(c=l,l=[];++f<t;)c&&c[f].run();f=-1,t=l.length}c=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function _(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new v(e,t)),1!==l.length||d||u(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=_,o.addListener=_,o.once=_,o.off=_,o.removeListener=_,o.removeAllListeners=_,o.emit=_,o.prependListener=_,o.prependOnceListener=_,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],171:[function(e,t,n){"use strict";var i=e("../vendor/jsonp"),r="data-signed-in",o="data-status",s="data-reg-ui-client-status",a="reg-ui-client",u=a,c="reg-ui-client__iframe",l=c,d="reg-ui-client__close",f=/bloomberg\.com$/i;function h(e,t){this._textElements=e||[],e instanceof window.Element&&(this._textElements=[e]);var n=t||{},i=n.environment,r=h.URLS_MAP,o=r[i]||r.production;this._queryParams=n.queryParams,this._loginUrl=o.loginUrl,this._registerUrl=o.registerUrl,this._terminalRegisterUrl=o.terminalRegisterUrl,this._bwRegisterUrl=o.bwRegisterUrl,this._settingsUrl=o.settingsUrl,this._userInfoUrl=o.userInfoUrl,this._url=o.loginUrl,!1===n.dismissible||"false"===n.dismissible?n.dismissible=!1:this._dismissible=!0,this._displayWhenUnauthenticated=Boolean(n.displayWhenUnauthenticated),function(){try{new window.CustomEvent("test")}catch(t){var e=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};e.prototype=window.Event.prototype,window.CustomEvent=e}}()}function p(e,t){for(var n=0;n<e.length;n++)t(e[n])}function v(){var e=document.getElementById(a),t=document.getElementById(c);e&&t&&t.addEventListener("load",function(){var n=t.scrollHeight;t.style.height=n,e.setAttribute(o,"show")})}function _(e,t){if(!t||"object"!=typeof t)return e;var n=Object.keys(t);if(0===n.length)return e;for(var i=e+"?"+g(n[0],t[n[0]]),r=1;r<n.length;++r)i+="&"+g(n[r],t[n[r]]);return i}function g(e,t){return e+"="+encodeURIComponent(t)}h.URLS_MAP={development:{loginUrl:"http://local.bloomberg.com:4004/iframe/login",registerUrl:"http://local.bloomberg.com:4004/iframe/register",terminalRegisterUrl:"http://local.bloomberg.com:4004/iframe/terminal-register",bwRegisterUrl:"http://local.bloomberg.com:4004/iframe/magazine",settingsUrl:"http://local.bloomberg.com:4004/account",userInfoUrl:"http://local.bloomberg.com:4004/user-info"},staging:{loginUrl:"https://staging-login.bloomberg.com/iframe/login",registerUrl:"https://staging-login.bloomberg.com/iframe/register",terminalRegisterUrl:"https://staging-login.bloomberg.com/iframe/terminal-register",bwRegisterUrl:"https://staging-login.bloomberg.com/iframe/magazine",settingsUrl:"https://staging-login.bloomberg.com/account",userInfoUrl:"https://staging-login.bloomberg.com/user-info"},sandcastle:{loginUrl:"https://sandcastle.bloomberg.com/reg2/iframe/login",registerUrl:"https://sandcastle.bloomberg.com/reg2/iframe/register",terminalRegisterUrl:"https://sandcastle.bloomberg.com/reg2/iframe/terminal-register",bwRegisterUrl:"https://sandcastle.bloomberg.com/reg2/iframe/magazine",settingsUrl:"https://sandcastle.bloomberg.com/reg2/account",userInfoUrl:"https://sandcastle.bloomberg.com/reg2/user-info"},production:{loginUrl:"https://login.bloomberg.com/iframe/login",registerUrl:"https://login.bloomberg.com/iframe/register",terminalRegisterUrl:"https://login.bloomberg.com/iframe/terminal-register",bwRegisterUrl:"https://login.bloomberg.com/iframe/magazine",settingsUrl:"https://login.bloomberg.com/account",userInfoUrl:"https://login.bloomberg.com/user-info"}},h.prototype={_textElements:null,_loginUrl:null,_settingsUrl:null,_userInfoUrl:null,_queryParams:null,_actualClickEventHandler:null,_windowMessageListener:null,_closeEventHandler:null,_closeOnEscEventHandler:null,_dismissible:null,_displayWhenUnauthenticated:null,initialize:function(){var e,t,n;if(e=this._textElements,t=e.length||0===e.length,n=e.length>=0,t&&n)return this._bindUserEvents(),this._setupMessageListener(),this._fetchUserInfo(function(e,t){return t?this._userSignedIn(t):(n=new window.CustomEvent("reg-user-not-signed-in",{}),window.dispatchEvent(n),this._displayWhenUnauthenticated?this._createPopup(_(this._loginUrl,this._queryParams)):void 0);var n}.bind(this)),this},cleanup:function(){this._windowMessageListener&&window.removeEventListener("message",this._windowMessageListener);var e=this._userClickEventHandler;e&&p(this._textElements,function(t){t.removeEventListener("click",e)});var t=document.getElementById(d);t&&this._closeEventHandler&&t.removeEventListener("click",this._closeEventHandler);var n=document.getElementById(a);n&&(this._closeEventHandler&&n.removeEventListener("click",this._closeEventHandler),document.body.removeChild(n)),this._closeOnEscEventHandler&&document.removeEventListener("keyup",this._closeOnEscEventHandler)},linkToSignIn:function(e){return this._createPopup(_(this._loginUrl,e||this._queryParams))},linkToRegister:function(e){return this._createPopup(_(this._registerUrl,e||this._queryParams))},linkToTerminalRegister:function(e){return this._createPopup(_(this._terminalRegisterUrl,e||this._queryParams))},linkToBwRegister:function(e){return this._createPopup(_(this._bwRegisterUrl,e||this._queryParams))},_fetchUserInfo:function(e){return this._isOnBbgComSite()?this._fetchUserInfoForSameSite(e):this._fetchUserInfoForDifferentSite(e)},_fetchUserInfoForSameSite:function(e){var t=this._getCookieValue("_breg-uid");!!this._getCookieValue("agent_id")||this._jsonp(this._userInfoUrl,{timeout:5e3}),e(null,t)},_fetchUserInfoForDifferentSite:function(e){this._jsonp(this._userInfoUrl,{timeout:5e3},function(t,n){if(t)return e(t,!1);e(t,n.userId)})},_bindUserEvents:function(){var e=function(e){if(e.preventDefault(),!("true"===e.target.getAttribute(r)))return this._createPopup(_(this._loginUrl,this._queryParams));this._gotoUrl(this._settingsUrl)}.bind(this);this._userClickEventHandler=e,p(this._textElements,function(t){t.addEventListener("click",e)}),this._dismissible&&(this._closeOnEscEventHandler=function(e){("Escape"===e.key||27===(e.keyCode||e.which))&&this._hidePopup()}.bind(this),document.addEventListener("keyup",this._closeOnEscEventHandler))},_setupMessageListener:function(){this._windowMessageListener=function(e){var t=e.origin||e.originalEvent.origin;if(this._isWhiteListedDomain(t)){var n=e.data;switch(n.type){case"REG-HIDE-POPUP":this._hidePopup();break;case"REG-USER-SIGNED-IN":this._userSignedIn(n.userId);break;case"REG-USER-HIDE-POPUP":this._dismissible&&this._hidePopup()}}}.bind(this),window.addEventListener("message",this._windowMessageListener)},_createPopup:function(e){var t=document.getElementById(a),n=document.getElementById(c);if(document.body.setAttribute(s,"show"),t)return v(),void n.setAttribute("src",e);var i=document.createElement("div");i.setAttribute("class",u),i.setAttribute("id",a);var r=document.createElement("div");r.setAttribute("class","reg-ui-client__iframe-container"),i.appendChild(r);var o=document.createElement("iframe");if(o.setAttribute("class",l),o.setAttribute("id",c),o.setAttribute("src",e),r.appendChild(o),document.body.appendChild(i),v(),this._dismissible){this._closeEventHandler=this._hidePopup.bind(this);var f=document.createElement("div");f.setAttribute("class","reg-ui-client__close"),f.setAttribute("id",d),f.textContent="Close",r.appendChild(f),i.addEventListener("click",this._closeEventHandler),f.addEventListener("click",this._closeEventHandler)}},_hidePopup:function(){document.body.removeAttribute(s);var e=document.getElementById(a);e&&e.removeAttribute(o)},_userSignedIn:function(e){p(this._textElements,function(e){e.setAttribute(r,"true"),e.textContent="Settings"}),function(e){if(!e||window._regUserId===e)return;var t=new window.CustomEvent("reg-user-signed-in",{detail:{userId:e}});window.dispatchEvent(t),window._regUserId=e}(e)},_jsonp:function(e,t,n){i(e,t,n)},_isWhiteListedDomain:function(e){return e.indexOf(".bloomberg.com")>=0},_isOnBbgComSite:function(){return f.test(window.location.hostname)},_gotoUrl:function(e){window.location.href=e},_getCookieValue:function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;$]*)");return t?t[2]:null}},t.exports=h},{"../vendor/jsonp":172}],172:[function(e,t,n){t.exports=function(e,t,n){"function"==typeof t&&(n=t,t={});t||(t={});var o,s,a=t.prefix||"__jp",u=t.name||a+i++,c=t.param||"callback",l=null!=t.timeout?t.timeout:6e4,d=encodeURIComponent,f=document.getElementsByTagName("script")[0]||document.head;l&&(s=setTimeout(function(){h(),n&&n(new Error("Timeout"))},l));function h(){o.parentNode&&o.parentNode.removeChild(o),window[u]=r,s&&clearTimeout(s)}return window[u]=function(e){h(),n&&n(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+c+"="+d(u)).replace("?&","?"),(o=document.createElement("script")).src=e,f.parentNode.insertBefore(o,f),function(){window[u]&&h()}};var i=0;function r(){}},{}],173:[function(e,t,n){
/**
 * UAParser.js v0.7.17
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright © 2012-2016 Faisal Salman <fyzlman@gmail.com>
 * Dual licensed under GPLv2 & MIT
 */
!function(e,i){"use strict";var r="function",o="undefined",s="model",a="name",u="type",c="vendor",l="version",d="architecture",f="console",h="mobile",p="tablet",v="smarttv",_="wearable",g={extend:function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:i},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},m={rgx:function(e,t){for(var n,o,s,a,u,c,l=0;l<t.length&&!u;){var d=t[l],f=t[l+1];for(n=o=0;n<d.length&&!u;)if(u=d[n++].exec(e))for(s=0;s<f.length;s++)c=u[++o],"object"==typeof(a=f[s])&&a.length>0?2==a.length?typeof a[1]==r?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:3==a.length?typeof a[1]!==r||a[1].exec&&a[1].test?this[a[0]]=c?c.replace(a[1],a[2]):i:this[a[0]]=c?a[1].call(this,c,a[2]):i:4==a.length&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):i):this[a]=c||i;l+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(g.has(t[n][r],e))return"?"===n?i:n}else if(g.has(t[n],e))return"?"===n?i:n;return e}},y={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},b={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,l],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],l],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],l],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[a,l],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],l],[/(edge)\/((\d+)?[\w\.]+)/i],[a,l],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],l],[/(puffin)\/([\w\.]+)/i],[[a,"Puffin"],l],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],l],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],l],[/(QQ)\/([\d\.]+)/i],[a,l],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[a,l],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[l,[a,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[l,[a,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[l,[a,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],l],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[a,/(.+(?:g|us))(.+)/,"$1 $2"],l],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[l,[a,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[a,l],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],l],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],l],[/(coast)\/([\w\.]+)/i],[[a,"Opera Coast"],l],[/fxios\/([\w\.-]+)/i],[l,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[l,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[l,a],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[a,"GSA"],l],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[l,m.str,y.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[a,l],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],l],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[d,"amd64"]],[/(ia32(?=;))/i],[[d,g.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[d,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[d,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[d,/ower/,"",g.lowerize]],[/(sun4\w)[;\)]/i],[[d,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[d,g.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[s,c,[u,p]],[/applecoremedia\/[\w\.]+ \((ipad)/],[s,[c,"Apple"],[u,p]],[/(apple\s{0,1}tv)/i],[[s,"Apple TV"],[c,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[c,s,[u,p]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[s,[c,"Amazon"],[u,p]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[s,m.str,y.device.amazon.model],[c,"Amazon"],[u,h]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[s,c,[u,h]],[/\((ip[honed|\s\w*]+);/i],[s,[c,"Apple"],[u,h]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[c,s,[u,h]],[/\(bb10;\s(\w+)/i],[s,[c,"BlackBerry"],[u,h]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[s,[c,"Asus"],[u,p]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[c,"Sony"],[s,"Xperia Tablet"],[u,p]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[s,[c,"Sony"],[u,h]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[c,s,[u,f]],[/android.+;\s(shield)\sbuild/i],[s,[c,"Nvidia"],[u,f]],[/(playstation\s[34portablevi]+)/i],[s,[c,"Sony"],[u,f]],[/(sprint\s(\w+))/i],[[c,m.str,y.device.sprint.vendor],[s,m.str,y.device.sprint.model],[u,h]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[c,s,[u,p]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[c,[s,/_/g," "],[u,h]],[/(nexus\s9)/i],[s,[c,"HTC"],[u,p]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[s,[c,"Huawei"],[u,h]],[/(microsoft);\s(lumia[\s\w]+)/i],[c,s,[u,h]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[s,[c,"Microsoft"],[u,f]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[c,"Microsoft"],[u,h]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[s,[c,"Motorola"],[u,h]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[c,"Motorola"],[u,p]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[c,g.trim],[s,g.trim],[u,v]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[c,"Samsung"],[u,v]],[/\(dtv[\);].+(aquos)/i],[s,[c,"Sharp"],[u,v]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[c,"Samsung"],s,[u,p]],[/smart-tv.+(samsung)/i],[c,[u,v],s],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[c,"Samsung"],s,[u,h]],[/sie-(\w+)*/i],[s,[c,"Siemens"],[u,h]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[c,"Nokia"],s,[u,h]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[s,[c,"Acer"],[u,p]],[/android.+([vl]k\-?\d{3})\s+build/i],[s,[c,"LG"],[u,p]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[c,"LG"],s,[u,p]],[/(lg) netcast\.tv/i],[c,s,[u,v]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[s,[c,"LG"],[u,h]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[s,[c,"Lenovo"],[u,p]],[/linux;.+((jolla));/i],[c,s,[u,h]],[/((pebble))app\/[\d\.]+\s/i],[c,s,[u,_]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[c,s,[u,h]],[/crkey/i],[[s,"Chromecast"],[c,"Google"]],[/android.+;\s(glass)\s\d/i],[s,[c,"Google"],[u,_]],[/android.+;\s(pixel c)\s/i],[s,[c,"Google"],[u,p]],[/android.+;\s(pixel xl|pixel)\s/i],[s,[c,"Google"],[u,h]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[s,/_/g," "],[c,"Xiaomi"],[u,h]],[/android.+(mi[\s\-_]*(?:pad)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[s,/_/g," "],[c,"Xiaomi"],[u,p]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[s,[c,"Meizu"],[u,p]],[/android.+a000(1)\s+build/i],[s,[c,"OnePlus"],[u,h]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[s,[c,"RCA"],[u,p]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[s,[c,"Dell"],[u,p]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[s,[c,"Verizon"],[u,p]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[c,"Barnes & Noble"],s,[u,p]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[s,[c,"NuVision"],[u,p]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[c,"ZTE"],s,[u,p]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[s,[c,"Swiss"],[u,h]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[s,[c,"Swiss"],[u,p]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[s,[c,"Zeki"],[u,p]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[c,"Dragon Touch"],s,[u,p]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[s,[c,"Insignia"],[u,p]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[s,[c,"NextBook"],[u,p]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[c,"Voice"],s,[u,h]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[c,"LvTel"],s,[u,h]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[s,[c,"Envizen"],[u,p]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[c,s,[u,p]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[s,[c,"MachSpeed"],[u,p]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[c,s,[u,p]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[s,[c,"Rotor"],[u,p]],[/android.+(KS(.+))\s+build/i],[s,[c,"Amazon"],[u,p]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[c,s,[u,p]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,g.lowerize],c,s],[/(android.+)[;\/].+build/i],[s,[c,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[l,[a,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,l],[/rv\:([\w\.]+).*(gecko)/i],[l,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,l],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[l,m.str,y.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[l,m.str,y.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],l],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[a,l],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[a,"Symbian"],l],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],l],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[a,l],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],l],[/(sunos)\s?([\w\.]+\d)*/i],[[a,"Solaris"],l],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[a,l],[/(haiku)\s(\w+)/i],[a,l],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[l,/_/g,"."],[a,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[l,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[a,l]]},w=function(t,n){if("object"==typeof t&&(n=t,t=i),!(this instanceof w))return new w(t,n).getResult();var r=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),o=n?g.extend(b,n):b;return this.getBrowser=function(){var e={name:i,version:i};return m.rgx.call(e,r,o.browser),e.major=g.major(e.version),e},this.getCPU=function(){var e={architecture:i};return m.rgx.call(e,r,o.cpu),e},this.getDevice=function(){var e={vendor:i,model:i,type:i};return m.rgx.call(e,r,o.device),e},this.getEngine=function(){var e={name:i,version:i};return m.rgx.call(e,r,o.engine),e},this.getOS=function(){var e={name:i,version:i};return m.rgx.call(e,r,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};w.VERSION="0.7.17",w.BROWSER={NAME:a,MAJOR:"major",VERSION:l},w.CPU={ARCHITECTURE:d},w.DEVICE={MODEL:s,VENDOR:c,TYPE:u,CONSOLE:f,MOBILE:h,SMARTTV:v,TABLET:p,WEARABLE:_,EMBEDDED:"embedded"},w.ENGINE={NAME:a,VERSION:l},w.OS={NAME:a,VERSION:l},typeof n!==o?(typeof t!==o&&t.exports&&(n=t.exports=w),n.UAParser=w):typeof define===r&&define.amd?define(function(){return w}):e&&(e.UAParser=w);var k=e&&(e.jQuery||e.Zepto);if(typeof k!==o){var E=new w;k.ua=E.getResult(),k.ua.get=function(){return E.getUA()},k.ua.set=function(e){E.setUA(e);var t=E.getResult();for(var n in t)k.ua[n]=t[n]}}}("object"==typeof window?window:this)},{}],174:[function(e,t,n){"use strict";function i(e,t){return function(n){var i,r;i=n,r=t,Object.assign(i.targeting,r.__queryObject),i.containerId=i.id,i.strategy=i.strategy||void 0;var o,s,a,u=e.call(this,n);return this.shouldRunInterstitialAd&&(s=u,a=n,(o=this).__interstitialsQueue.push(a),o.shouldRunInterstitialAd=!1,s.onRender(function(){o.launchInterstitialAd()}),s.onEmpty(function(){o.launchInterstitialAd()})),u}}t.exports=function(t,n){var r,o,s,a=e("../../config/breakpoints.json"),u=e("bb.ads");return u.init({networkCode:"5262",breakpoints:a,adCodeDecorator:(r=t,o=n,function(e){var t="bb20ad.bloomberg.com"===r?"test":"";return(t=o.getValue("ad_test")||t)+e}),adBlockerShouldBeBlocked:!0}),u.enableVideoAds().disableCompanionAdBackfilling(),window.addEventListener("beforeunload",u.destroy),u.createAd=i(u.createAd,n),u.shouldRunInterstitialAd=!0,u.__interstitialsQueue=[],u.launchInterstitialAd=(s=0,function(){if(2===(s+=1)){var e=u.__interstitialsQueue.pop();e&&u.createInterstitialAd(e)}}),"true"===n.getValue("debugAds")&&u.showDebugInformationOnRender(),u}},{"../../config/breakpoints.json":1,"bb.ads":4}],175:[function(e,t,n){"use strict";!function(){e("bb.polyfills/object/assign"),e("bb.polyfills/requestAnimationFrame"),e("bb.polyfills/customEvent"),e("bb.polyfills/promise");var t=new(e("./util/QueryString"))(window.location.search),n=window.location.hostname,i=new(e("byzantium-client"))(window,document);window.__bloomberg__=window.__bloomberg__||{},window.__bloomberg__.fetchSuperBurstParam=new Promise(function(e){window.addEventListener("message",function(t){t.data.srnd&&e(t.data)})});var r=e("./ads")(n,t),o=e("bb.pianola");Object.assign(window.__bloomberg__,{ads:r,byzantium:i,Pianola:o}),document.dispatchEvent(new CustomEvent("pianola:ready",{bubbles:!0,cancelable:!1})),window.showMeTheMoney=r.showDebugInformation.bind(r)}()},{"./ads":174,"./util/QueryString":176,"bb.pianola":35,"bb.polyfills/customEvent":61,"bb.polyfills/object/assign":62,"bb.polyfills/promise":63,"bb.polyfills/requestAnimationFrame":64,"byzantium-client":66}],176:[function(e,t,n){"use strict";function i(e){var t=e.indexOf("?"),n=-1===t||t===e.length-1;this.__queryObject=n?{}:e.substr(t+1).trim().split("&").reduce(function(e,t){var n=t.replace(/\+/g," ").split("="),i=decodeURIComponent(n[0]),r=void 0!==n[1]?decodeURIComponent(n[1]):null;return e.hasOwnProperty(i)?Array.isArray(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r,e},{})}i.prototype.getValue=function(e){return this.__queryObject[e]},i.prototype.hasKey=function(e){return this.__queryObject.hasOwnProperty(e)},t.exports=i},{}]},{},[175]);